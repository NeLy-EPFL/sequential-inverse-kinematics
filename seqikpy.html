
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API Reference &#8212; Trial</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'seqikpy';</script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bibliography" href="references.html" />
    <link rel="prev" title="Visualization tools" href="visualization.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Trial - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Trial - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to SeqIKPy!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">üèÅ Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Features</a></li>

<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">üî¨ Methodology</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="methodology_alignment.html">3D pose alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="methodology_angle_calc.html">Inverse kinematics</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Limitations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">üìö Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="seqikpy_grooming.html">Using SeqIKPy for Drosophila grooming</a></li>






<li class="toctree-l1"><a class="reference internal" href="seqikpy_locomotion.html">Using SeqIKPy for Drosophila locomotion</a></li>





<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization tools</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">üí¨ References</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/NeLy-EPFL/sequential-inverse-kinematics" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/NeLy-EPFL/sequential-inverse-kinematics/issues/new?title=Issue%20on%20page%20%2Fseqikpy.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/seqikpy.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>API Reference</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.alignment">seqikpy.alignment module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose"><code class="docutils literal notranslate"><span class="pre">AlignPose</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_head"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_head()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_leg"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_leg()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_pose"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_pose()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.find_scale_leg"><code class="docutils literal notranslate"><span class="pre">AlignPose.find_scale_leg()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.find_stationary_indices"><code class="docutils literal notranslate"><span class="pre">AlignPose.find_stationary_indices()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.from_file_path"><code class="docutils literal notranslate"><span class="pre">AlignPose.from_file_path()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.get_fixed_pos"><code class="docutils literal notranslate"><span class="pre">AlignPose.get_fixed_pos()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.get_mean_length"><code class="docutils literal notranslate"><span class="pre">AlignPose.get_mean_length()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.thorax_mid_pts"><code class="docutils literal notranslate"><span class="pre">AlignPose.thorax_mid_pts</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_anipose_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_anipose_to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_df3d_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_df3d_to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_df3dpp_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_df3dpp_to_dict()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.data">seqikpy.data module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.data.get_pts2align"><code class="docutils literal notranslate"><span class="pre">get_pts2align()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.head_inverse_kinematics">seqikpy.head_inverse_kinematics module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-notes">IMPORTANT NOTES:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple"><code class="docutils literal notranslate"><span class="pre">AxesTuple</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.X_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.X_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.Y_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Y_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.Z_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Z_AXIS</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.angle_between_segments"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.angle_between_segments()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_antenna_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_yaw"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_antenna_yaw()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_angles"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_angles()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_roll"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_roll()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_yaw"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_yaw()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.derotate_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.derotate_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_ant_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_ant_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_horizontal"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector_horizontal()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_mid"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector_mid()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_plane"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_plane()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_antenna_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_rest_antenna_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_head_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_rest_head_pitch()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.kinematic_chain">seqikpy.kinematic_chain module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple"><code class="docutils literal notranslate"><span class="pre">AxesTuple</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.X_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.X_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.Y_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Y_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.Z_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Z_AXIS</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainBase"><code class="docutils literal notranslate"><span class="pre">KinematicChainBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainBase.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainBase.create_leg_chain()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainGeneric"><code class="docutils literal notranslate"><span class="pre">KinematicChainGeneric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainGeneric.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainGeneric.create_leg_chain()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_1"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_1()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_2"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_3"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_3()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_4"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_4()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.kinematic_chain_trochanter">seqikpy.kinematic_chain_trochanter module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain"><code class="docutils literal notranslate"><span class="pre">KinematicChain</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_1"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_1()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_2"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_3"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_3()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_4"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_4()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.leg_inverse_kinematics">seqikpy.leg_inverse_kinematics module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_fk()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_ik()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.get_scale_factor"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.get_scale_factor()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.utils">seqikpy.utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.calculate_body_size"><code class="docutils literal notranslate"><span class="pre">calculate_body_size()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.compute_length_of_segment"><code class="docutils literal notranslate"><span class="pre">compute_length_of_segment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.compute_mean_length_of_segments"><code class="docutils literal notranslate"><span class="pre">compute_mean_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.df_to_nparray"><code class="docutils literal notranslate"><span class="pre">df_to_nparray()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dict_to_nparray_angle"><code class="docutils literal notranslate"><span class="pre">dict_to_nparray_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dict_to_nparray_pose"><code class="docutils literal notranslate"><span class="pre">dict_to_nparray_pose()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dist_calc"><code class="docutils literal notranslate"><span class="pre">dist_calc()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.drop_level_dlc"><code class="docutils literal notranslate"><span class="pre">drop_level_dlc()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.fix_coxae_pos"><code class="docutils literal notranslate"><span class="pre">fix_coxae_pos()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.from_anipose_to_array"><code class="docutils literal notranslate"><span class="pre">from_anipose_to_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_array"><code class="docutils literal notranslate"><span class="pre">get_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_distance_btw_vecs"><code class="docutils literal notranslate"><span class="pre">get_distance_btw_vecs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_fps_from_video"><code class="docutils literal notranslate"><span class="pre">get_fps_from_video()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_leg_length"><code class="docutils literal notranslate"><span class="pre">get_leg_length()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_length_of_segments"><code class="docutils literal notranslate"><span class="pre">get_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_mean_length_of_segments"><code class="docutils literal notranslate"><span class="pre">get_mean_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_mean_quantile"><code class="docutils literal notranslate"><span class="pre">get_mean_quantile()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_stim_array"><code class="docutils literal notranslate"><span class="pre">get_stim_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_stim_intervals"><code class="docutils literal notranslate"><span class="pre">get_stim_intervals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.interpolate_joint_angles"><code class="docutils literal notranslate"><span class="pre">interpolate_joint_angles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.interpolate_signal"><code class="docutils literal notranslate"><span class="pre">interpolate_signal()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.leg_length_model"><code class="docutils literal notranslate"><span class="pre">leg_length_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.load_file"><code class="docutils literal notranslate"><span class="pre">load_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.load_stim_data"><code class="docutils literal notranslate"><span class="pre">load_stim_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.save_file"><code class="docutils literal notranslate"><span class="pre">save_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.visualization">seqikpy.visualization module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.animate_3d_points"><code class="docutils literal notranslate"><span class="pre">animate_3d_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.fig_to_array"><code class="docutils literal notranslate"><span class="pre">fig_to_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_frames_from_video_ffmpeg"><code class="docutils literal notranslate"><span class="pre">get_frames_from_video_ffmpeg()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_plot_config"><code class="docutils literal notranslate"><span class="pre">get_plot_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_video_writer"><code class="docutils literal notranslate"><span class="pre">get_video_writer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.load_grid_plot_data"><code class="docutils literal notranslate"><span class="pre">load_grid_plot_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.make_video"><code class="docutils literal notranslate"><span class="pre">make_video()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_3d_points"><code class="docutils literal notranslate"><span class="pre">plot_3d_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_grid"><code class="docutils literal notranslate"><span class="pre">plot_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_grid_generator"><code class="docutils literal notranslate"><span class="pre">plot_grid_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_joint_angle"><code class="docutils literal notranslate"><span class="pre">plot_joint_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_trailing_kp"><code class="docutils literal notranslate"><span class="pre">plot_trailing_kp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.resize_frame"><code class="docutils literal notranslate"><span class="pre">resize_frame()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.resize_rgb_frame"><code class="docutils literal notranslate"><span class="pre">resize_rgb_frame()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.video_frames_generator"><code class="docutils literal notranslate"><span class="pre">video_frames_generator()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy">Module contents</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-seqikpy.alignment">
<span id="seqikpy-alignment-module"></span><h2>seqikpy.alignment module<a class="headerlink" href="#module-seqikpy.alignment" title="Link to this heading">#</a></h2>
<p>Code for aligning 3D pose to a fly template.
The best practice for getting good alignment is to have an accurate 3D pose and
a template whose key points are matching the tracked key points closely.</p>
<p>This class expects a 3D file in the following format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;&lt;side (R,L)&gt;&lt;segment (F, M, H)&gt;_leg&quot;: np.ndarray[N_frames,5,3],</span>
<span class="go">        &quot;&lt;side (R,L)&gt;_head&quot;: np.ndarray[N_frames,2,3],</span>
<span class="go">        &quot;Neck&quot;: np.ndarray[N_frames,1,3],</span>
<span class="go">    }</span>
</pre></div>
</div>
<p>Usage might differ based on the needs. For now, there are three cases that you
can use the class with:</p>
<p>Case 1: we have 3D pose obtained, and we would like to align it but first
we need to convert the pose data into a dictionary format
NOTE: if the 3D pose is not in the format described above, then you need to
* Convert your 3D pose file manually to the required format
* Or, if you obtain the 3D pose from anipose (see the method <cite>convert_from_anipose_to_dict</cite>),
simply set <cite>convert</cite> to True.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose_220525_aJO_Fly001_001/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="n">AlignPose</span><span class="o">.</span><span class="n">from_file_path</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">main_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;pose3d.h5&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">legs_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RF&quot;</span><span class="p">,</span><span class="s2">&quot;LF&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">convert_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pts2align</span><span class="o">=</span><span class="n">PTS2ALIGN</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">include_claw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">body_template</span><span class="o">=</span><span class="n">NMF_TEMPLATE</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_pos</span> <span class="o">=</span> <span class="n">align</span><span class="o">.</span><span class="n">align_pose</span><span class="p">(</span><span class="n">export_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
</pre></div>
</div>
<p>Case 2: we have a pose data in the required data structure, we just want to load and align it</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose_220525_aJO_Fly001_001/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="n">AlignPose</span><span class="o">.</span><span class="n">from_file_path</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">main_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;converted_pose_dict.pkl&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">legs_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RF&quot;</span><span class="p">,</span><span class="s2">&quot;LF&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">convert_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pts2align</span><span class="o">=</span><span class="n">PTS2ALIGN</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">include_claw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">body_template</span><span class="o">=</span><span class="n">NMF_TEMPLATE</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_pos</span> <span class="o">=</span> <span class="n">align</span><span class="o">.</span><span class="n">align_pose</span><span class="p">(</span><span class="n">export_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
</pre></div>
</div>
<p>Case 3: we have a pose data in the required format loaded already, we want to feed it
to the class and align the pose. This assumes that the pose data is already aligned
in the right format. If not, use the static method <cite>convert_from_anipose</cite>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose_220525_aJO_Fly001_001/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_path</span> <span class="o">=</span> <span class="n">data_path</span> <span class="o">/</span> <span class="s2">&quot;converted_pose_dict.pkl&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">f_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pose_data</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="n">AlignPose</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pose_data_dict</span><span class="o">=</span><span class="n">pose_data</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">legs_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RF&quot;</span><span class="p">,</span><span class="s2">&quot;LF&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">include_claw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">body_template</span><span class="o">=</span><span class="n">NMF_TEMPLATE</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_pos</span> <span class="o">=</span> <span class="n">align</span><span class="o">.</span><span class="n">align_pose</span><span class="p">(</span><span class="n">export_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AlignPose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_data_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legs_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_claw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'DEBUG'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INFO'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WARNING'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ERROR'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Aligns the 3D poses. For the class usage examples, please refer to example_alignment.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose_data_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>3D pose put in a dictionary that has the following structure defined
by PTS2ALIGN (see data.py for more details)</p>
<p>Example format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;RF_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">        &quot;LF_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">        &quot;R_head&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">        &quot;L_head&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">        &quot;Neck&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    }</span>
</pre></div>
</div>
</p></li>
<li><p><strong>legs_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì A list containing the leg names to operate on.
Should follow the convention &lt;R or L&gt;&lt;F or M or H&gt;
e.g., [‚ÄúRF‚Äù, ‚ÄúLF‚Äù, ‚ÄúRM‚Äù, ‚ÄúLM‚Äù, ‚ÄúRH‚Äù, ‚ÄúLH‚Äù]</p></li>
<li><p><strong>include_claw</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì If True, claw is included in the scaling process, by default False</p></li>
<li><p><strong>body_template</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì A dictionary containing the positions of fly model body segments.
Check ./data.py for the default dictionary, by default None</p></li>
<li><p><strong>body_size</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) ‚Äì A dictionary containing the  limb size of the fly.
If the user wants to scale the animal data to match the
biomechanical model, then <cite>body_size</cite> should be the same as
the model body size. Otherwise, the user should calculate the
animal‚Äôs body size.
Check ./data.py for an example.</p></li>
<li><p><strong>log_level</strong> (<em>Literal</em><em>[</em><em>&quot;DEBUG&quot;</em><em>, </em><em>&quot;INFO&quot;</em><em>, </em><em>&quot;WARNING&quot;</em><em>, </em><em>&quot;ERROR&quot;</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Logging level as a string, by default ‚ÄúINFO‚Äù</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.align_head">
<span class="sig-name descname"><span class="pre">align_head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">head_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.align_head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.align_head" title="Link to this definition">#</a></dt>
<dd><p>Scales and translates the head key point locations based on the model size and configuration.</p>
<p>This method takes a 3D array of head key point positions and scales and translates
them to align with a predefined model size and configuration, such as a fly‚Äùs head.
It accounts for the relative positions of key points and ensures that the scaled
head key points match the model size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>head_array</strong> (<em>np.ndarray</em>) ‚Äì A 3D array containing the head key point positions.</p></li>
<li><p><strong>side</strong> (<em>str</em>) ‚Äì A string indicating the side of the head (e.g., ‚ÄúR‚Äù or ‚ÄúL‚Äù) for alignment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new 3D array containing the scaled and aligned head key point positions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> ‚Äì If the ‚Äúbody_template‚Äù dictionary does not contain the required key names,
    ‚ÄúAntenna_mid_thorax‚Äù or ‚ÄúAntenna‚Äù.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method is used to align head key point positions with a model of a fly‚Äùs head.</p></li>
<li><p>It calculates the scale factor and translations necessary to match the model‚Äôs head size and position.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.align_leg">
<span class="sig-name descname"><span class="pre">align_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'RF'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LF'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'RM'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LM'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'RH'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LH'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.align_leg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.align_leg" title="Link to this definition">#</a></dt>
<dd><p>Scales and translates the leg key point locations based on the model size and configuration.</p>
<p>This method takes a 3D array of leg key point positions and scales and translates them to align with a
predefined model size and joint configuration. It accounts for the relative positions
of key points and ensures that the scaled leg key points match the model size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leg_array</strong> (<em>np.ndarray</em>) ‚Äì A 3D array containing the leg key point positions.</p></li>
<li><p><strong>leg_name</strong> (<em>str</em>) ‚Äì A string indicating the name of the leg (e.g., ‚ÄúRF‚Äù, ‚ÄúLF‚Äù, ‚Ä¶) for alignment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new 3D array containing the scaled and aligned leg key point positions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method is used to align leg key point positions with a model of a fly‚Äùs leg.</p></li>
<li><p>It calculates the scale factor and multiplies the first 4 or 5 segments with the scale factor.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.align_pose">
<span class="sig-name descname"><span class="pre">align_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.align_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.align_pose" title="Link to this definition">#</a></dt>
<dd><p>Aligns the leg and head key point positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>export_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>, </em><em>optional</em>) ‚Äì The path where the aligned pose data will be saved, if specified.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the aligned pose data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.find_scale_leg">
<span class="sig-name descname"><span class="pre">find_scale_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.find_scale_leg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.find_scale_leg" title="Link to this definition">#</a></dt>
<dd><p>Computes the ratio between the model size and the real fly size.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.find_stationary_indices">
<span class="sig-name descname"><span class="pre">find_stationary_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5e-05</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.find_stationary_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.find_stationary_indices" title="Link to this definition">#</a></dt>
<dd><p>Find the indices in an array where the function value does not move significantly.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.from_file_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'pose3d.*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pts2align</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.from_file_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.from_file_path" title="Link to this definition">#</a></dt>
<dd><p>Class method to load pose3d data and convert it into a proper
structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_dir</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) ‚Äì Path where the Anipose triangulation results are saved.
By default, the result file is caled pose3d.h5
However, if the name is different, &lt;pose_result_path&gt; should
be modified accordingly.
Example: ‚Äú../Fly001/001_Beh/behData/pose-3d‚Äù</p></li>
<li><p><strong>file_name</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì File name, by default ‚Äúpose3d.*‚Äù</p></li>
<li><p><strong>convert_func</strong> (<em>Callable</em><em>, </em><em>optional</em>) ‚Äì Function to convert the loaded pose into the required format,
set by the user if None, no conversion is performed,
by default None</p></li>
<li><p><strong>pts2align</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Body part names and corresponding key points names to be aligned,
check data.py for an example, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of the AlignPose class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#seqikpy.alignment.AlignPose" title="seqikpy.alignment.AlignPose">AlignPose</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> ‚Äì If file with a name that contains <cite>file_name</cite> does not exist in <cite>main_dir</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.get_fixed_pos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_fixed_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.get_fixed_pos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.get_fixed_pos" title="Link to this definition">#</a></dt>
<dd><p>Gets the fixed pose of a steady key point determined by the quantiles.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.get_mean_length">
<span class="sig-name descname"><span class="pre">get_mean_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segment_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_is_leg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#AlignPose.get_mean_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.AlignPose.get_mean_length" title="Link to this definition">#</a></dt>
<dd><p>Computes the mean length of a body segment.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="seqikpy.alignment.AlignPose.thorax_mid_pts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">thorax_mid_pts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#seqikpy.alignment.AlignPose.thorax_mid_pts" title="Link to this definition">#</a></dt>
<dd><p>Gets the middle point of right and left wing hinges.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.alignment.convert_from_anipose_to_dict">
<span class="sig-name descname"><span class="pre">convert_from_anipose_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pts2align</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#convert_from_anipose_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.convert_from_anipose_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Loads anipose 3D pose data into a dictionary.
See data.py for a mapping from keypoint name to segment name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose_3d</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>3D pose data from anipose.
It should have the following format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_3d</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    &quot;{keypoint_name}_x&quot; : np.ndarray[N_frames,],</span>
<span class="go">    &quot;{keypoint_name}_y&quot; : np.ndarray[N_frames,],</span>
<span class="go">    &quot;{keypoint_name}_z&quot; : np.ndarray[N_frames,],</span>
<span class="go">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>pts2align</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) ‚Äì Segment names and corresponding key point names to be aligned,
check data.py for an example, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Pose data dictionary of the following format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    &quot;RF_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    &quot;LF_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    &quot;R_head&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    &quot;L_head&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    &quot;Neck&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    ...</span>
<span class="go">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.alignment.convert_from_df3d_to_dict">
<span class="sig-name descname"><span class="pre">convert_from_df3d_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pts2align</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#convert_from_df3d_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.convert_from_df3d_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Loads DeepFly3D data into a dictionary.
See the original DeepFly3D repository for indices of
key points for each segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose_3d</strong> (<em>np.ndarray</em>) ‚Äì Array (N, N_key_points, 3) containing 3D pose data.</p></li>
<li><p><strong>pts2align</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>Dictionary mapping segment names to key point indices.
Should be in the following format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pts2align</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    &quot;RF_leg&quot;: np.arange(0,5),</span>
<span class="go">    &quot;RM_leg&quot;: np.arange(5,10),</span>
<span class="go">    &quot;RH_leg&quot;: np.arange(10,15),</span>
<span class="go">    &quot;LF_leg&quot;: np.arange(19,24),</span>
<span class="go">    &quot;LM_leg&quot;: np.arange(24,29),</span>
<span class="go">    &quot;LH_leg&quot;: np.arange(29,34),</span>
<span class="go">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pose data dictionary as described above.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.alignment.convert_from_df3dpp_to_dict">
<span class="sig-name descname"><span class="pre">convert_from_df3dpp_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pts2align</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/alignment.html#convert_from_df3dpp_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.alignment.convert_from_df3dpp_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Load DeepFly3DPostProcessing data into a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose_3d</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>]</em>) ‚Äì 3D pose data from DeepFly3DPostProcessing.
See the original repository for details.</p></li>
<li><p><strong>pts2align</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì <p>List of legs to take into account, by default None
Example format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pts2align</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;RF_leg&quot;</span><span class="p">,</span> <span class="s2">&quot;LF_leg&quot;</span><span class="p">]</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pose data dictionary as described above.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seqikpy.data">
<span id="seqikpy-data-module"></span><h2>seqikpy.data module<a class="headerlink" href="#module-seqikpy.data" title="Link to this heading">#</a></h2>
<p>Data, constants, and paths.</p>
<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.data.get_pts2align">
<span class="sig-name descname"><span class="pre">get_pts2align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/data.html#get_pts2align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.data.get_pts2align" title="Link to this definition">#</a></dt>
<dd><p>Deletes the keys from the PTS2ALIGN dictionary.</p>
</dd></dl>

</section>
<section id="module-seqikpy.head_inverse_kinematics">
<span id="seqikpy-head-inverse-kinematics-module"></span><h2>seqikpy.head_inverse_kinematics module<a class="headerlink" href="#module-seqikpy.head_inverse_kinematics" title="Link to this heading">#</a></h2>
<p>Implementation of a class to calculate head inverse kinematics.</p>
<p>Example usage:
&gt;&gt;&gt; import pickle
&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; from seqikpy.head_inverse_kinematics import HeadInverseKinematics
&gt;&gt;&gt; from seqikpy.data import NMF_TEMPLATE</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DATA_PATH</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose/normal_case/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_path</span> <span class="o">=</span> <span class="n">DATA_PATH</span> <span class="o">/</span> <span class="s2">&quot;aligned_pose3d.h5&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">f_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">class_hk</span> <span class="o">=</span> <span class="n">HeadInverseKinematics</span><span class="p">(</span>
<span class="go">        aligned_pos = data,</span>
<span class="go">        body_template=NMF_TEMPLATE,</span>
<span class="go">    )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joint_angles</span> <span class="o">=</span> <span class="n">class_hk</span><span class="o">.</span><span class="n">compute_head_angles</span><span class="p">(</span><span class="n">export_path</span> <span class="o">=</span> <span class="n">DATA_PATH</span><span class="p">)</span>
</pre></div>
</div>
<section id="important-notes">
<h3>IMPORTANT NOTES:<a class="headerlink" href="#important-notes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The aligned pose must include keys: [‚ÄúR_head‚Äù, ‚ÄúL_head‚Äù, ‚ÄúNeck‚Äù] for head angles calculation.</p></li>
<li><p>Each key corresponds to an array shaped as (N, key_points, 3), where N is the frame count, key_points is the number of key points per part (2 for the head, including antenna base and edge, 1 for the neck), and 3 represents the x, y, z dimensions.</p></li>
<li><p>The key points vary based on the 3D data. If antennal joint angles are not required, ‚ÄúL_head‚Äù and ‚ÄúR_head‚Äù may contain only a single key point. In such cases, set calculate_ant_angle to False in compute_head_angles. The head segments (‚ÄúL_head‚Äù, ‚ÄúR_head‚Äù) can include any key point such as the head bristles for calculating head roll, pitch, and yaw. The examples utilize the antennae base for these calculations.</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.AxesTuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AxesTuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_AXIS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Y_AXIS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z_AXIS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seqikpy.head_inverse_kinematics.AxesTuple" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.AxesTuple.X_AXIS">
<span class="sig-name descname"><span class="pre">X_AXIS</span></span><a class="headerlink" href="#seqikpy.head_inverse_kinematics.AxesTuple.X_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.AxesTuple.Y_AXIS">
<span class="sig-name descname"><span class="pre">Y_AXIS</span></span><a class="headerlink" href="#seqikpy.head_inverse_kinematics.AxesTuple.Y_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.AxesTuple.Z_AXIS">
<span class="sig-name descname"><span class="pre">Z_AXIS</span></span><a class="headerlink" href="#seqikpy.head_inverse_kinematics.AxesTuple.Z_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HeadInverseKinematics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aligned_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'DEBUG'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INFO'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WARNING'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ERROR'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculates the head DOFs (3) and antennae DOFs (2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aligned_pos</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Aligned pose dictionary.
In principle, it should have body parts (R_head) as keys,
and arrays (N,2 for the head) as values.
Check the sample data for more detailed example.</p></li>
<li><p><strong>body_template</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary containing the positions of fly model body segments.
Check data.py for the default dictionary.</p></li>
<li><p><strong>log_level</strong> (<em>Literal</em><em>[</em><em>&quot;DEBUG&quot;</em><em>, </em><em>&quot;INFO&quot;</em><em>, </em><em>&quot;WARNING&quot;</em><em>, </em><em>&quot;ERROR&quot;</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Logging level as a string, by default ‚ÄúINFO‚Äù</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.angle_between_segments">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angle_between_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.angle_between_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.angle_between_segments" title="Link to this definition">#</a></dt>
<dd><p>Calculates the angle between two vectors based on the cos formula.
It reverses the sign of the angle if determinant of the matrix having
two vectors and the rotation axis is negative.</p>
<p>The returned angle is in radians.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_pitch">
<span class="sig-name descname"><span class="pre">compute_antenna_pitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'R'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'L'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head_roll</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_antenna_pitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_pitch" title="Link to this definition">#</a></dt>
<dd><p>Calculates the head pitch angle (rad) from head vector
projected onto sagittal plane to antenna vector (from base ant to edge).
Furthermore, it subtracts the angle with the resting joint angle of the antenna pitch.</p>
<p>Higher antenna pitch means antenna is lifted upward more.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_yaw">
<span class="sig-name descname"><span class="pre">compute_antenna_yaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'R'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'L'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head_roll</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_antenna_yaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_yaw" title="Link to this definition">#</a></dt>
<dd><p>Calculates the antenna yaw angle (rad) from the lateral head vector
projected onto transverse plane to antenna vector (from base ant to edge)
projected, again, on the transverse plane.</p>
<p>Higher antenna yaw means antennae get closer to the midline,
deviating from the resting position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_angles">
<span class="sig-name descname"><span class="pre">compute_head_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_ant_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_head_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_angles" title="Link to this definition">#</a></dt>
<dd><p>Calculates the head &amp; antennal joint angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>export_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Export path of the joint angles, by default None</p></li>
<li><p><strong>compute_ant_angles</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em><em>, </em><em>optional</em>) ‚Äì If True, computes the head roll,pitch and yaw, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dicitonary containing the head joint angles, saved
in export path if provided</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_pitch">
<span class="sig-name descname"><span class="pre">compute_head_pitch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_head_pitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_pitch" title="Link to this definition">#</a></dt>
<dd><p>Calculates the head pitch angle (rad) from head mid vector
projected onto sagittal plane to the anteroposterior plane.
Furthermore, it sums the angle with the resting joint angle of the head pitch.</p>
<p>Higher head pitch means head is lowered more.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_roll">
<span class="sig-name descname"><span class="pre">compute_head_roll</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_head_roll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_roll" title="Link to this definition">#</a></dt>
<dd><p>Calculates the head roll angle (rad) from horizontal axis
to head horizontal vector projected onto transverse plane.</p>
<p>Positive head roll -&gt; rotation to the right in fly coords
Negative head roll -&gt; rotation to the left in the fly coords</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_yaw">
<span class="sig-name descname"><span class="pre">compute_head_yaw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.compute_head_yaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_yaw" title="Link to this definition">#</a></dt>
<dd><p>Calculates the head yaw angle (rad) from horizontal axis
to head horizontal vector projected onto frontal plane.</p>
<p>Positive head yaw -&gt; head yaw to the left
Negative head yaw -&gt; head yaw to the right</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.derotate_vector">
<span class="sig-name descname"><span class="pre">derotate_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">head_roll_angle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_to_derotate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.derotate_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.derotate_vector" title="Link to this definition">#</a></dt>
<dd><p>Rotates a vector by the inverse amount of <cite>head_roll_angle</cite> along the x axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_ant_vector">
<span class="sig-name descname"><span class="pre">get_ant_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'R'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'L'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_ant_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_ant_vector" title="Link to this definition">#</a></dt>
<dd><p>Vector ((N,3) array) from antenna base to antenna edge.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector">
<span class="sig-name descname"><span class="pre">get_head_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'R'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'L'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_head_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector" title="Link to this definition">#</a></dt>
<dd><p>Vector ((N,3) array) from &lt;side&gt; antenna base (or any head key point) to neck.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_horizontal">
<span class="sig-name descname"><span class="pre">get_head_vector_horizontal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_head_vector_horizontal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_horizontal" title="Link to this definition">#</a></dt>
<dd><p>Vector ((N,3) array) from right antenna base (or any head key point)
to left antenna base (or any head key point).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_mid">
<span class="sig-name descname"><span class="pre">get_head_vector_mid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_head_vector_mid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_mid" title="Link to this definition">#</a></dt>
<dd><p>Vector ((N,3) array) from mid antenna base (or any head key point) to neck.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_plane">
<span class="sig-name descname"><span class="pre">get_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_plane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_plane" title="Link to this definition">#</a></dt>
<dd><p>Construct an array by repeating row n_row many times.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_antenna_pitch">
<span class="sig-name descname"><span class="pre">get_rest_antenna_pitch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_rest_antenna_pitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_antenna_pitch" title="Link to this definition">#</a></dt>
<dd><p>Antenna pitch angle at zero pose in the fly biomechanical model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_head_pitch">
<span class="sig-name descname"><span class="pre">get_rest_head_pitch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/seqikpy/head_inverse_kinematics.html#HeadInverseKinematics.get_rest_head_pitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_head_pitch" title="Link to this definition">#</a></dt>
<dd><p>Head pitch angle at zero pose in the fly biomechanical model.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-seqikpy.kinematic_chain">
<span id="seqikpy-kinematic-chain-module"></span><h2>seqikpy.kinematic_chain module<a class="headerlink" href="#module-seqikpy.kinematic_chain" title="Link to this heading">#</a></h2>
<p>Module that contains a set of kinematic chains.</p>
<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.AxesTuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AxesTuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_AXIS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Y_AXIS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z_AXIS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seqikpy.kinematic_chain.AxesTuple" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.AxesTuple.X_AXIS">
<span class="sig-name descname"><span class="pre">X_AXIS</span></span><a class="headerlink" href="#seqikpy.kinematic_chain.AxesTuple.X_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.AxesTuple.Y_AXIS">
<span class="sig-name descname"><span class="pre">Y_AXIS</span></span><a class="headerlink" href="#seqikpy.kinematic_chain.AxesTuple.Y_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.AxesTuple.Z_AXIS">
<span class="sig-name descname"><span class="pre">Z_AXIS</span></span><a class="headerlink" href="#seqikpy.kinematic_chain.AxesTuple.Z_AXIS" title="Link to this definition">#</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KinematicChainBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds_dof</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legs_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainBase" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract class to create kinematic chains for the legs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds_dof</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary that contains the bounds of joint degrees-of-freedom.</p></li>
<li><p><strong>legs_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì List of legs for which the kinematic chains are created.</p></li>
<li><p><strong>body_size</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Dictionary that contains the size of different body parts,
by default None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainBase.create_leg_chain">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_leg_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainBase.create_leg_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainBase.create_leg_chain" title="Link to this definition">#</a></dt>
<dd><p>Returns the respective leg chain based on the stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Name of the leg, RF or LF</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#seqikpy.kinematic_chain_trochanter.KinematicChain" title="seqikpy.kinematic_chain_trochanter.KinematicChain">KinematicChain</a> of a given leg</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainGeneric">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KinematicChainGeneric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds_dof</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legs_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainGeneric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainGeneric" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainBase" title="seqikpy.kinematic_chain.KinematicChainBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">KinematicChainBase</span></code></a></p>
<p>Generic kinematic chain class to create one kinematic chain for
the entire leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds_dof</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary that contains the bounds of joint degrees-of-freedom.</p></li>
<li><p><strong>legs_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì List of legs for which the kinematic chains are created.</p></li>
<li><p><strong>body_size</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Dictionary that contains the size of different body parts,
by default None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainGeneric.create_leg_chain">
<span class="sig-name descname"><span class="pre">create_leg_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainGeneric.create_leg_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainGeneric.create_leg_chain" title="Link to this definition">#</a></dt>
<dd><p>Returns the respective leg chain based on the stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Name of the leg, RF or LF</p></li>
<li><p><strong>angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Joint angles calculated in the previous step,
None at the first step, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>The entire KinematicChain of a given leg</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KinematicChainSeq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds_dof</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legs_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainBase" title="seqikpy.kinematic_chain.KinematicChainBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">KinematicChainBase</span></code></a></p>
<p>Sequential kinematic chain class to create a kinematic chain
stage-by-stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds_dof</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary that contains the bounds of joint degrees-of-freedom.</p></li>
<li><p><strong>legs_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì List of legs for which the kinematic chains are created.</p></li>
<li><p><strong>body_size</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Dictionary that contains the size of different body parts,
by default None</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This implementation follows Yaw-Pitch-Roll order.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain">
<span class="sig-name descname"><span class="pre">create_leg_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq.create_leg_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain" title="Link to this definition">#</a></dt>
<dd><p>Returns the respective leg chain based on the stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Name of the leg, i.e., RF, LF, etc.</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> (<em>t</em>) ‚Äì Joint angles calculated in the previous step,
None at the first step, by default None</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> ‚Äì Stage number, (1,2,3,4)</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> ‚Äì Time step, by default 0</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>KinematicChain at the respective stage and time step.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> ‚Äì If the stage number is not in (1,2,3,4)</p></li>
<li><p><strong>ValueError</strong> ‚Äì If the leg name is not in
    [‚ÄúRF‚Äù, ‚ÄúLF‚Äù, ‚ÄúRM‚Äù, ‚ÄúLM‚Äù, ‚ÄúRH‚Äù, ‚ÄúLH‚Äù]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_1">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq.create_leg_chain_stage_1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_1" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate thorax/coxa pitch and yaw.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Leg name, e.g., RF, LF, RM, LM, RH, LH</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Chain of the leg at stage 1, which calculates
thorax/coxa pitch and yaw joint angles and only
contains Coxa leg segment.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Chain</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_2">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq.create_leg_chain_stage_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_2" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate thorax/coxa roll and coxa/femur pitch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Leg name, e.g., RF, LF, RM, LM, RH, LH</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Chain of the leg at stage 2, which calculates
thorax/coxa roll and coxa/femur pitch joint angles
and contains Coxa and Femur leg segments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Chain</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_3">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq.create_leg_chain_stage_3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_3" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate coxa/femur roll and femur/tibia pitch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Leg name, e.g., RF, LF, RM, LM, RH, LH</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Chain of the leg at stage 3, which calculates
coxa/femur roll and femur/tibia pitch joint angles
and contains Coxa, Femur and Tibia leg segments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Chain</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_4">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain.html#KinematicChainSeq.create_leg_chain_stage_4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_4" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate tibia/tarsus pitch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Leg name, e.g., RF, LF, RM, LM, RH, LH</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Chain of the leg at stage 4, which calculates
coxa/femur roll and tibia/tarsus pitch joint angles and
contains the entire leg, i.e., Coxa, Femur, Tibia and Tarsus.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Chain</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-seqikpy.kinematic_chain_trochanter">
<span id="seqikpy-kinematic-chain-trochanter-module"></span><h2>seqikpy.kinematic_chain_trochanter module<a class="headerlink" href="#module-seqikpy.kinematic_chain_trochanter" title="Link to this heading">#</a></h2>
<p>Module that contains a set of kinematic chains.</p>
<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KinematicChain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nmf_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds_dof</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create kinematic chains at different stages for the legs with new femur position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nmf_offset</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em>) ‚Äì Dictionary that contains the offset of a body part with respect to
the previous one.</p></li>
<li><p><strong>bounds_dof</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>NDArray</em><em>]</em>) ‚Äì Dictionary that contains the bounds of joint degrees-of-freedom.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain">
<span class="sig-name descname"><span class="pre">create_leg_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">femur_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain.create_leg_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain" title="Link to this definition">#</a></dt>
<dd><p>Returns the respective leg chain based on the stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>int</em>) ‚Äì Stage number, (1,2,3,4)</p></li>
<li><p><strong>leg_name</strong> (<em>str</em>) ‚Äì Name of the leg, RF or LF</p></li>
<li><p><strong>angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>NDArray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Joint angles calculated in the previous step, None at the first step, by default None</p></li>
<li><p><strong>t</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Time step, by default None</p></li>
<li><p><strong>femur_orientation</strong> (<em>float</em><em>, </em><em>optional</em>) ‚Äì Orientation of femur with respect to coxa introduced
by trochanter in radians around the yaw axis, by default 0</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Chain</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_1">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain.create_leg_chain_stage_1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_1" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate thorax/coxa pitch and yaw.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_2">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">femur_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain.create_leg_chain_stage_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_2" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate thorax/coxa roll and coxa/femur pitch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_3">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">femur_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain.create_leg_chain_stage_3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_3" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate coxa/femur roll and femur/tibia pitch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_4">
<span class="sig-name descname"><span class="pre">create_leg_chain_stage_4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">femur_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Chain</span></span></span><a class="reference internal" href="_modules/seqikpy/kinematic_chain_trochanter.html#KinematicChain.create_leg_chain_stage_4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_4" title="Link to this definition">#</a></dt>
<dd><p>Leg chain to calculate tibia/tarsus pitch.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-seqikpy.leg_inverse_kinematics">
<span id="seqikpy-leg-inverse-kinematics-module"></span><h2>seqikpy.leg_inverse_kinematics module<a class="headerlink" href="#module-seqikpy.leg_inverse_kinematics" title="Link to this heading">#</a></h2>
<p>Module to calculate inverse kinematics from 3D pose based on IKPy.</p>
<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LegInvKinBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aligned_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kinematic_chain_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainBase" title="seqikpy.kinematic_chain.KinematicChainBase"><span class="pre">KinematicChainBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'DEBUG'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INFO'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WARNING'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ERROR'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract class to calculate inverse kinematics for leg joints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aligned_pos</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>Aligned pose from the AlignPose class.
Should have the following structure</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;&lt;side&gt;&lt;segment&gt;_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    }</span>
</pre></div>
</div>
</p></li>
<li><p><strong>kinematic_chain</strong> (<a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainBase" title="seqikpy.kinematic_chain.KinematicChainBase"><em>KinematicChainBase</em></a>) ‚Äì Kinematic chain of the leg.</p></li>
<li><p><strong>initial_angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Initial angles of DOFs.
If not provided, the default values from data.py will be used.</p></li>
<li><p><strong>log_level</strong> (<em>Literal</em><em>[</em><em>&quot;DEBUG&quot;</em><em>, </em><em>&quot;INFO&quot;</em><em>, </em><em>&quot;WARNING&quot;</em><em>, </em><em>&quot;ERROR&quot;</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Logging level as a string, by default ‚ÄúINFO‚Äù</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_fk">
<span class="sig-name descname"><span class="pre">calculate_fk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kinematic_chain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Chain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase.calculate_fk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_fk" title="Link to this definition">#</a></dt>
<dd><p>Calculates the forward kinematics from the joint dof angles.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik">
<span class="sig-name descname"><span class="pre">calculate_ik</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kinematic_chain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Chain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase.calculate_ik"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik" title="Link to this definition">#</a></dt>
<dd><p>Calculates the joint angles in the leg chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik_stage">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_ik_stage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end_effector_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase.calculate_ik_stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik_stage" title="Link to this definition">#</a></dt>
<dd><p>For a given trial pose data, calculates the inverse kinematics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_effector_pos</strong> (<em>np.ndarray</em>) ‚Äì 3D array containing the position of the end effector pos</p></li>
<li><p><strong>origin</strong> (<em>np.ndarray</em>) ‚Äì Origin of the kinematic chain, i.e., Thorax-Coxa joint</p></li>
<li><p><strong>initial_angles</strong> (<em>np.ndarray</em>) ‚Äì Initial angles for the optimization seed</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) ‚Äì Leg side, i.e., RF, LF, RM, LM, RH, LH</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array containing the cartesian coordinates of the joint positions.
The joint angles are saved in a class attribute</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase.get_scale_factor">
<span class="sig-name descname"><span class="pre">get_scale_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase.get_scale_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.get_scale_factor" title="Link to this definition">#</a></dt>
<dd><p>Gets scale the ratio between two vectors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinBase.run_ik_and_fk">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_ik_and_fk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinBase.run_ik_and_fk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.run_ik_and_fk" title="Link to this definition">#</a></dt>
<dd><p>Runs inverse and forward kinematics for leg joints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>export_path</strong> (<em>Union</em><em>[</em><em>Path</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Path where the results will be saved,
if None, nothing is saveed, by default None</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two dictionaries containing joint angles and forward
kinematics, respectively.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict[str,np.ndarray], Dict[str,np.ndarray]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinGeneric">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LegInvKinGeneric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aligned_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kinematic_chain_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainGeneric" title="seqikpy.kinematic_chain.KinematicChainGeneric"><span class="pre">KinematicChainGeneric</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'DEBUG'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INFO'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WARNING'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ERROR'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinGeneric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase" title="seqikpy.leg_inverse_kinematics.LegInvKinBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">LegInvKinBase</span></code></a></p>
<p>Class to calculate inverse kinematics for leg joints in a
generic manner to only match the given end effector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aligned_pos</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>Aligned pose from the AlignPose class.
Should have the following structure</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;&lt;side&gt;&lt;segment&gt;_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    }</span>
</pre></div>
</div>
</p></li>
<li><p><strong>kinematic_chain</strong> (<a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainGeneric" title="seqikpy.kinematic_chain.KinematicChainGeneric"><em>KinematicChainGeneric</em></a>) ‚Äì Kinematic chain of the leg.</p></li>
<li><p><strong>initial_angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Initial angles of DOFs.
If not provided, the default values from data.py will be used.</p></li>
<li><p><strong>log_level</strong> (<em>Literal</em><em>[</em><em>&quot;DEBUG&quot;</em><em>, </em><em>&quot;INFO&quot;</em><em>, </em><em>&quot;WARNING&quot;</em><em>, </em><em>&quot;ERROR&quot;</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Logging level as a string, by default ‚ÄúINFO‚Äù</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.kinematic_chain</span> <span class="kn">import</span> <span class="n">KinematicChainGeneric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.leg_inverse_kinematics</span> <span class="kn">import</span> <span class="n">LegInvKinGeneric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.data</span> <span class="kn">import</span> <span class="n">BOUNDS</span><span class="p">,</span> <span class="n">INITIAL_ANGLES</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.utils</span> <span class="kn">import</span> <span class="n">load_file</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DATA_PATH</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose_220525_aJO_Fly001_001/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_path</span> <span class="o">=</span> <span class="n">DATA_PATH</span> <span class="o">/</span> <span class="s2">&quot;pose3d_aligned.pkl&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_pos</span> <span class="o">=</span> <span class="n">load_file</span><span class="p">(</span><span class="n">f_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">seq_ik</span> <span class="o">=</span> <span class="n">LegInvKinGeneric</span><span class="p">(</span>
<span class="go">        aligned_pos=aligned_pos,</span>
<span class="go">        kinematic_chain_class=KinematicChainGeneric(</span>
<span class="go">            bounds_dof=BOUNDS,</span>
<span class="go">            legs_list=[&quot;RF&quot;, &quot;LF&quot;],</span>
<span class="go">            body_size=None,</span>
<span class="go">        ),</span>
<span class="go">        initial_angles=INITIAL_ANGLES</span>
<span class="go">    )</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leg_joint_angles</span><span class="p">,</span> <span class="n">forward_kinematics</span> <span class="o">=</span> <span class="n">gen_ik</span><span class="o">.</span><span class="n">run_ik_and_fk</span><span class="p">(</span>
<span class="go">        export_path=DATA_PATH,</span>
<span class="go">        hide_progress_bar=False</span>
<span class="go">    )</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinGeneric.calculate_ik_stage">
<span class="sig-name descname"><span class="pre">calculate_ik_stage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end_effector_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinGeneric.calculate_ik_stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.calculate_ik_stage" title="Link to this definition">#</a></dt>
<dd><p>For a given trial pose data, calculates the inverse kinematics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_effector_pos</strong> (<em>np.ndarray</em>) ‚Äì 3D array containing the position of the end effector pos</p></li>
<li><p><strong>origin</strong> (<em>np.ndarray</em>) ‚Äì Origin of the kinematic chain, i.e., Thorax-Coxa joint</p></li>
<li><p><strong>initial_angles</strong> (<em>np.ndarray</em>) ‚Äì Initial angles for the optimization seed</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) ‚Äì Leg side, i.e., RF, LF, RM, LM, RH, LH</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array containing the cartesian coordinates of the joint positions.
The joint angles are saved in a class attribute</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinGeneric.run_ik_and_fk">
<span class="sig-name descname"><span class="pre">run_ik_and_fk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinGeneric.run_ik_and_fk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.run_ik_and_fk" title="Link to this definition">#</a></dt>
<dd><p>Runs inverse and forward kinematics for leg joints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>export_path</strong> (<em>Union</em><em>[</em><em>Path</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Path where the results will be saved,
if None, nothing is saveed, by default None</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two dictionaries containing joint angles and forward
kinematics, respectively.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict[str,np.ndarray], Dict[str,np.ndarray]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinSeq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LegInvKinSeq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aligned_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kinematic_chain_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainSeq" title="seqikpy.kinematic_chain.KinematicChainSeq"><span class="pre">KinematicChainSeq</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'DEBUG'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INFO'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WARNING'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ERROR'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinSeq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase" title="seqikpy.leg_inverse_kinematics.LegInvKinBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">LegInvKinBase</span></code></a></p>
<p>Class to calculate inverse kinematics for leg joints in a
sequential manner. This method finds the optimal joint angles
within the bounds to match each koint as closely as possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aligned_pos</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì <p>Aligned pose from the AlignPose class.
Should have the following structure</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pose_data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">        &quot;&lt;side&gt;&lt;segment&gt;_leg&quot;: np.ndarray[N_frames,N_key_points,3],</span>
<span class="go">    }</span>
</pre></div>
</div>
</p></li>
<li><p><strong>kinematic_chain</strong> (<a class="reference internal" href="#seqikpy.kinematic_chain.KinematicChainSeq" title="seqikpy.kinematic_chain.KinematicChainSeq"><em>KinematicChainSeq</em></a>) ‚Äì Kinematic chain of the leg.</p></li>
<li><p><strong>initial_angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Initial angles of DOFs.
If not provided, the default values from data.py will be used.</p></li>
<li><p><strong>log_level</strong> (<em>Literal</em><em>[</em><em>&quot;DEBUG&quot;</em><em>, </em><em>&quot;INFO&quot;</em><em>, </em><em>&quot;WARNING&quot;</em><em>, </em><em>&quot;ERROR&quot;</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Logging level as a string, by default ‚ÄúINFO‚Äù</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.kinematic_chain</span> <span class="kn">import</span> <span class="n">KinematicChainSeq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.leg_inverse_kinematics</span> <span class="kn">import</span> <span class="n">LegInvKinSeq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.data</span> <span class="kn">import</span> <span class="n">BOUNDS</span><span class="p">,</span> <span class="n">INITIAL_ANGLES</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seqikpy.utils</span> <span class="kn">import</span> <span class="n">load_file</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DATA_PATH</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/anipose_220525_aJO_Fly001_001/pose-3d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_path</span> <span class="o">=</span> <span class="n">DATA_PATH</span> <span class="o">/</span> <span class="s2">&quot;pose3d_aligned.pkl&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_pos</span> <span class="o">=</span> <span class="n">load_file</span><span class="p">(</span><span class="n">f_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">seq_ik</span> <span class="o">=</span> <span class="n">LegInvKinSeq</span><span class="p">(</span>
<span class="go">        aligned_pos=aligned_pos,</span>
<span class="go">        kinematic_chain_class=KinematicChainSeq(</span>
<span class="go">            bounds_dof=BOUNDS,</span>
<span class="go">            legs_list=[&quot;RF&quot;, &quot;LF&quot;],</span>
<span class="go">            body_size=None,</span>
<span class="go">        ),</span>
<span class="go">        initial_angles=INITIAL_ANGLES</span>
<span class="go">    )</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leg_joint_angles</span><span class="p">,</span> <span class="n">forward_kinematics</span> <span class="o">=</span> <span class="n">seq_ik</span><span class="o">.</span><span class="n">run_ik_and_fk</span><span class="p">(</span>
<span class="go">        export_path=DATA_PATH,</span>
<span class="go">        hide_progress_bar=False</span>
<span class="go">    )</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinSeq.calculate_ik_stage">
<span class="sig-name descname"><span class="pre">calculate_ik_stage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end_effector_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinSeq.calculate_ik_stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.calculate_ik_stage" title="Link to this definition">#</a></dt>
<dd><p>For a given trial pose data, calculates the inverse kinematics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_effector_pos</strong> (<em>np.ndarray</em>) ‚Äì 3D array containing the position of the end effector pos</p></li>
<li><p><strong>origin</strong> (<em>np.ndarray</em>) ‚Äì Origin of the kinematic chain, i.e., Thorax-Coxa joint</p></li>
<li><p><strong>initial_angles</strong> (<em>np.ndarray</em>) ‚Äì Initial angles for the optimization seed</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> (<em>stage</em>) ‚Äì Leg side, i.e., RF, LF, RM, LM, RH, LH</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> ‚Äì Stage in the sequential calculation, should be between 1 and 4</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array containing the cartesian coordinates of the joint positions.
The joint angles are saved in a class attribute</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seqikpy.leg_inverse_kinematics.LegInvKinSeq.run_ik_and_fk">
<span class="sig-name descname"><span class="pre">run_ik_and_fk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/leg_inverse_kinematics.html#LegInvKinSeq.run_ik_and_fk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.run_ik_and_fk" title="Link to this definition">#</a></dt>
<dd><p>Runs inverse and forward kinematics for leg joints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>export_path</strong> (<em>Union</em><em>[</em><em>Path</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Path where the results will be saved,
if None, nothing is saveed, by default None</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> (<em>hide_progress_bar</em>) ‚Äì Stages to run the inverse kinematics.</p></li>
<li><p><strong>(</strong><strong>kwargs</strong><strong>)</strong> ‚Äì Hide the progress bar, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two dictionaries containing joint angles and forward
kinematics, respectively.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict[str,np.ndarray], Dict[str,np.ndarray]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-seqikpy.utils">
<span id="seqikpy-utils-module"></span><h2>seqikpy.utils module<a class="headerlink" href="#module-seqikpy.utils" title="Link to this heading">#</a></h2>
<p>Utilities.</p>
<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.calculate_body_size">
<span class="sig-name descname"><span class="pre">calculate_body_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legs_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['RF',</span> <span class="pre">'LF',</span> <span class="pre">'RM',</span> <span class="pre">'LM',</span> <span class="pre">'RH',</span> <span class="pre">'LH']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/utils.html#calculate_body_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.calculate_body_size" title="Link to this definition">#</a></dt>
<dd><p>Calculates body segment sizes from the template data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.compute_length_of_segment">
<span class="sig-name descname"><span class="pre">compute_length_of_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_beg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#compute_length_of_segment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.compute_length_of_segment" title="Link to this definition">#</a></dt>
<dd><p>Computes the length of a segment.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.compute_mean_length_of_segments">
<span class="sig-name descname"><span class="pre">compute_mean_length_of_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segment_lengths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#compute_mean_length_of_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.compute_mean_length_of_segments" title="Link to this definition">#</a></dt>
<dd><p>Computes mean length of each segment.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.df_to_nparray">
<span class="sig-name descname"><span class="pre">df_to_nparray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_end_effector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'F'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#df_to_nparray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.df_to_nparray" title="Link to this definition">#</a></dt>
<dd><p>Convert usual dataframe format into a three dimensional array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.dict_to_nparray_angle">
<span class="sig-name descname"><span class="pre">dict_to_nparray_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_end_effector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#dict_to_nparray_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.dict_to_nparray_angle" title="Link to this definition">#</a></dt>
<dd><p>Convert usual df3dPP dictionary format into a three dimensional array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.dict_to_nparray_pose">
<span class="sig-name descname"><span class="pre">dict_to_nparray_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_end_effector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#dict_to_nparray_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.dict_to_nparray_pose" title="Link to this definition">#</a></dt>
<dd><p>Convert usual df3dPP dictionary format into a three dimensional array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.dist_calc">
<span class="sig-name descname"><span class="pre">dist_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#dist_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.dist_calc" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.drop_level_dlc">
<span class="sig-name descname"><span class="pre">drop_level_dlc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#drop_level_dlc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.drop_level_dlc" title="Link to this definition">#</a></dt>
<dd><p>Converts DLC type dataframe into one level df.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.fix_coxae_pos">
<span class="sig-name descname"><span class="pre">fix_coxae_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_coxa_kp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thorax_coxa_R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_coxa_kp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thorax_coxa_L'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#fix_coxae_pos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.fix_coxae_pos" title="Link to this definition">#</a></dt>
<dd><p>Calculates the fixed coxae location based on the quantiles.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.from_anipose_to_array">
<span class="sig-name descname"><span class="pre">from_anipose_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_end_effector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#from_anipose_to_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.from_anipose_to_array" title="Link to this definition">#</a></dt>
<dd><p>Convert usual dataframe format into a three dimensional array of size (N,KeyPoints,3).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_array">
<span class="sig-name descname"><span class="pre">get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kp_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_array" title="Link to this definition">#</a></dt>
<dd><p>Returns 3D points of a key point in an array format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_distance_btw_vecs">
<span class="sig-name descname"><span class="pre">get_distance_btw_vecs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_distance_btw_vecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_distance_btw_vecs" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_fps_from_video">
<span class="sig-name descname"><span class="pre">get_fps_from_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_fps_from_video"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_fps_from_video" title="Link to this definition">#</a></dt>
<dd><p>Finds the fps of a video.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_leg_length">
<span class="sig-name descname"><span class="pre">get_leg_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_segment_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_leg_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_leg_length" title="Link to this definition">#</a></dt>
<dd><p>Returns the leg size from the mean segment lengths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_length_of_segments">
<span class="sig-name descname"><span class="pre">get_length_of_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_ee</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_length_of_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_length_of_segments" title="Link to this definition">#</a></dt>
<dd><p>Returns a dictionary with segment sizes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_mean_length_of_segments">
<span class="sig-name descname"><span class="pre">get_mean_length_of_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_mean_length_of_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_mean_length_of_segments" title="Link to this definition">#</a></dt>
<dd><p>Gets a dictionary with segment lengths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_mean_quantile">
<span class="sig-name descname"><span class="pre">get_mean_quantile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantile_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_mean_quantile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_mean_quantile" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_stim_array">
<span class="sig-name descname"><span class="pre">get_stim_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hamming_window_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_stim_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_stim_array" title="Link to this definition">#</a></dt>
<dd><p>Computes a stimulus array from the stimulus information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_dir</strong> (<em>str</em>) ‚Äì Path of the file containing the stim info.</p></li>
<li><p><strong>frame_rate</strong> (<em>int</em>) ‚Äì Frame rate of the recordings.</p></li>
<li><p><strong>scale</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Interpolation rate applied in df3dPP, by default 1 (no interpolation!)</p></li>
<li><p><strong>hamming_window_size</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Size of the filter applied in df3dPP, by default 28</p></li>
<li><p><strong>time_scale</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Time scale of the stimulus info (msec), by default 1e-3</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>np.array(length, ) of boolean values indicating the stimulus time points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.get_stim_intervals">
<span class="sig-name descname"><span class="pre">get_stim_intervals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stim_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#get_stim_intervals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.get_stim_intervals" title="Link to this definition">#</a></dt>
<dd><p>Reads stimulus array and returns the stim intervals for plotting purposes.
Use get_stim_array otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.interpolate_joint_angles">
<span class="sig-name descname"><span class="pre">interpolate_joint_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint_angles_dict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#interpolate_joint_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.interpolate_joint_angles" title="Link to this definition">#</a></dt>
<dd><p>Interpolates joint angles.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.interpolate_signal">
<span class="sig-name descname"><span class="pre">interpolate_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_ts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#interpolate_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.interpolate_signal" title="Link to this definition">#</a></dt>
<dd><p>Interpolates signals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.leg_length_model">
<span class="sig-name descname"><span class="pre">leg_length_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nmf_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">claw_is_ee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#leg_length_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.leg_length_model" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.load_file" title="Link to this definition">#</a></dt>
<dd><p>Load file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.load_stim_data">
<span class="sig-name descname"><span class="pre">load_stim_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#load_stim_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.load_stim_data" title="Link to this definition">#</a></dt>
<dd><p>Loads the stimulus info from txt.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.utils.save_file">
<span class="sig-name descname"><span class="pre">save_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/utils.html#save_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.utils.save_file" title="Link to this definition">#</a></dt>
<dd><p>Save file.</p>
</dd></dl>

</section>
<section id="module-seqikpy.visualization">
<span id="seqikpy-visualization-module"></span><h2>seqikpy.visualization module<a class="headerlink" href="#module-seqikpy.visualization" title="Link to this heading">#</a></h2>
<p>Functions for plotting and animation.</p>
<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.animate_3d_points">
<span class="sig-name descname"><span class="pre">animate_3d_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points3d_second</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_no</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_video</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mp4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/seqikpy/visualization.html#animate_3d_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.animate_3d_points" title="Link to this definition">#</a></dt>
<dd><p>Makes an animation of 3D pose.
This code is intended for animating the raw 3D pose and
forward kinematics from seqikpy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points3d</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary containing the 3D pose,
usually this is the raw 3D pose.</p></li>
<li><p><strong>export_path</strong> (<em>Path</em>) ‚Äì Path where the animation will be saved.</p></li>
<li><p><strong>points3d_second</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Dictionary containing the 3D pose
usually this is the forward kinematics, by default None</p></li>
<li><p><strong>fps</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Frames per second, by default 100</p></li>
<li><p><strong>frame_no</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Maximum number of frames of the animation,
by default 1000</p></li>
<li><p><strong>format_video</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì Video format, by default ‚Äúmp4‚Äù</p></li>
<li><p><strong>elev</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Elevation of the point of view, by default 10</p></li>
<li><p><strong>azim</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Azimuth of the point of view, by default 90</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì Title of the video, by default ‚Äú‚Äù</p></li>
<li><p><strong>marker_types</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Marker types for each key point, by default None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.fig_to_array">
<span class="sig-name descname"><span class="pre">fig_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#fig_to_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.fig_to_array" title="Link to this definition">#</a></dt>
<dd><p>Converts a matplotlib figure into an array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.get_frames_from_video_ffmpeg">
<span class="sig-name descname"><span class="pre">get_frames_from_video_ffmpeg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#get_frames_from_video_ffmpeg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.get_frames_from_video_ffmpeg" title="Link to this definition">#</a></dt>
<dd><p>Saves frames of a video using FFMPEG.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>Path</em>) ‚Äì Video path.
This path appended with a <cite>_frames</cite> folder will be used to save the frames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.get_plot_config">
<span class="sig-name descname"><span class="pre">get_plot_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#get_plot_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.get_plot_config" title="Link to this definition">#</a></dt>
<dd><p>Get experimental conditions from the data path.
Data path should look like:
‚Äú/mnt/nas2/GO/7cam/220810_aJO-GAL4xUAS-CsChr/Fly001/001_RLF/behData/pose-3d‚Äù</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.get_video_writer">
<span class="sig-name descname"><span class="pre">get_video_writer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#get_video_writer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.get_video_writer" title="Link to this definition">#</a></dt>
<dd><p>Initialize and return a VideoWriter object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.load_grid_plot_data">
<span class="sig-name descname"><span class="pre">load_grid_plot_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seqikpy/visualization.html#load_grid_plot_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.load_grid_plot_data" title="Link to this definition">#</a></dt>
<dd><p>Loads the set of data necessary for plotting the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_path</strong> (<em>Path</em>) ‚Äì Data path where the pose3d and inverse kinematics are saved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns joint angles (head and leg) and aligned pose as a tuple.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.make_video">
<span class="sig-name descname"><span class="pre">make_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(-1,</span> <span class="pre">2880)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#make_video"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.make_video" title="Link to this definition">#</a></dt>
<dd><p>Makes videos from a generator of images.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.plot_3d_points">
<span class="sig-name descname"><span class="pre">plot_3d_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'solid'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#plot_3d_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.plot_3d_points" title="Link to this definition">#</a></dt>
<dd><p>Plots 3D points at time t.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.plot_grid">
<span class="sig-name descname"><span class="pre">plot_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_front</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aligned_pose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg_angles_to_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head_angles_to_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_points_to_trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_types_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stim_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#plot_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.plot_grid" title="Link to this definition">#</a></dt>
<dd><p>Plots an instance of the animal recording, 3D pose,
head and leg joint angles in a grid layout. This code
is intended to use in a for loop to plot and save all
the frames from <cite>t_start</cite> to <cite>t_end</cite> to make a video afterwards.</p>
<p>NOTE: This function is intended to plot leg and head joint angles together,
it will not work if any of these data is missing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_front</strong> (<em>Path</em>) ‚Äì Image of the fly at frame t on the front camera.</p></li>
<li><p><strong>img_side</strong> (<em>Path</em>) ‚Äì Image of the fly at frame t on the side camera.</p></li>
<li><p><strong>aligned_pose</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Aligned 3D pose.</p></li>
<li><p><strong>joint_angles</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Joint angles.</p></li>
<li><p><strong>leg_angles_to_plot</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì <p>List containing leg joint angle names without the side.
Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leg_joint_angles</span> <span class="o">=</span> <span class="p">[</span>
<span class="go">        &quot;ThC_yaw&quot;,</span>
<span class="go">        &quot;ThC_pitch&quot;,</span>
<span class="go">        &quot;ThC_roll&quot;,</span>
<span class="go">        &quot;CTr_pitch&quot;,</span>
<span class="go">        &quot;CTr_roll&quot;,</span>
<span class="go">        &quot;FTi_pitch&quot;,</span>
<span class="go">        &quot;TiTa_pitch&quot;,</span>
<span class="go">        ]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>head_angles_to_plot</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) ‚Äì List containing exact names of head joint angle names.</p></li>
<li><p><strong>t</strong> (<em>int</em>) ‚Äì Frame number t.</p></li>
<li><p><strong>t_start</strong> (<em>int</em>) ‚Äì Start of the time series, i.e., joint angles.</p></li>
<li><p><strong>t_end</strong> (<em>int</em>) ‚Äì End of the time series, i.e., joint angles.</p></li>
<li><p><strong>t_interval</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Interval of frame numbers in between x ticks, by default 20</p></li>
<li><p><strong>fps</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Frames per second, by default 100</p></li>
<li><p><strong>trail</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Number of previous frames where the key point will be visible,
by default 30</p></li>
<li><p><strong>marker_types_3d</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>np.ndarray</em><em>, </em><em>str</em><em>]</em><em>]</em>) ‚Äì Dictionary mapping key points names to marker styles.</p></li>
<li><p><strong>marker_trail</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>np.ndarray</em><em>, </em><em>str</em><em>]</em><em>]</em>) ‚Äì Dictionary mapping key points names to their indices
and line styles for trailing key points.</p></li>
<li><p><strong>stim_lines</strong> (<em>List</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Stimulation indicators, by default None</p></li>
<li><p><strong>export_path</strong> (<em>Path</em><em>, </em><em>optional</em>) ‚Äì Path where the plot will be saved, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Fig</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.plot_grid_generator">
<span class="sig-name descname"><span class="pre">plot_grid_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fly_frames_front</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fly_frames_side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aligned_pose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_angles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leg_angles_to_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head_angles_to_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_points_to_trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_types_3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_trail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stim_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#plot_grid_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.plot_grid_generator" title="Link to this definition">#</a></dt>
<dd><p>Generator for plotting grid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.plot_joint_angle">
<span class="sig-name descname"><span class="pre">plot_joint_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kinematics_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles_to_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degrees</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">until_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stim_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#plot_joint_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.plot_joint_angle" title="Link to this definition">#</a></dt>
<dd><p>Plot joint angles from a given kinematics data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>plt.Axes</em>) ‚Äì Axis where the plot will be displayed.</p></li>
<li><p><strong>kinematics_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Dictionary containing the kienmatics, pose and angle</p></li>
<li><p><strong>angles_to_plot</strong> (<em>List</em>) ‚Äì Angles to plot. Exact column name should be given.</p></li>
<li><p><strong>degrees</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Convert to degrees, by default True</p></li>
<li><p><strong>until_t</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì Plots the angles until t^th frame, by default -1</p></li>
<li><p><strong>stim_lines</strong> (<em>List</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Plots vertical lines in indicated locations,
by default None</p></li>
<li><p><strong>show_legend</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Shows legend, by default True</p></li>
<li><p><strong>export_path</strong> (<em>Path</em><em>, </em><em>optional</em>) ‚Äì Path where the plot will be saved, by default None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.plot_trailing_kp">
<span class="sig-name descname"><span class="pre">plot_trailing_kp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments_to_plot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#plot_trailing_kp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.plot_trailing_kp" title="Link to this definition">#</a></dt>
<dd><p>Plots the traces of key points from t-trail to t.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.resize_frame">
<span class="sig-name descname"><span class="pre">resize_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#resize_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.resize_frame" title="Link to this definition">#</a></dt>
<dd><p>Resize a frame to the target size
while preserving the width length ratio.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.resize_rgb_frame">
<span class="sig-name descname"><span class="pre">resize_rgb_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#resize_rgb_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.resize_rgb_frame" title="Link to this definition">#</a></dt>
<dd><p>resize the frame and convert it to RGB</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seqikpy.visualization.video_frames_generator">
<span class="sig-name descname"><span class="pre">video_frames_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stim_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(50,</span> <span class="pre">50)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(255,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seqikpy/visualization.html#video_frames_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seqikpy.visualization.video_frames_generator" title="Link to this definition">#</a></dt>
<dd><p>Returns the frames as a generator in a given interval.
Modifies the brightness and contrast of the images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video_path</strong> (<em>Path</em>) ‚Äì Video path.</p></li>
<li><p><strong>start_frame</strong> (<em>int</em>) ‚Äì Starting frame.</p></li>
<li><p><strong>end_frame</strong> (<em>int</em>) ‚Äì End frame.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Frame</em> ‚Äì Generator containing all the frames in the specified interval.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seqikpy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-seqikpy" title="Link to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="visualization.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Visualization tools</p>
      </div>
    </a>
    <a class="right-next"
       href="references.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bibliography</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.alignment">seqikpy.alignment module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose"><code class="docutils literal notranslate"><span class="pre">AlignPose</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_head"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_head()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_leg"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_leg()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.align_pose"><code class="docutils literal notranslate"><span class="pre">AlignPose.align_pose()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.find_scale_leg"><code class="docutils literal notranslate"><span class="pre">AlignPose.find_scale_leg()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.find_stationary_indices"><code class="docutils literal notranslate"><span class="pre">AlignPose.find_stationary_indices()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.from_file_path"><code class="docutils literal notranslate"><span class="pre">AlignPose.from_file_path()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.get_fixed_pos"><code class="docutils literal notranslate"><span class="pre">AlignPose.get_fixed_pos()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.get_mean_length"><code class="docutils literal notranslate"><span class="pre">AlignPose.get_mean_length()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.AlignPose.thorax_mid_pts"><code class="docutils literal notranslate"><span class="pre">AlignPose.thorax_mid_pts</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_anipose_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_anipose_to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_df3d_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_df3d_to_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.alignment.convert_from_df3dpp_to_dict"><code class="docutils literal notranslate"><span class="pre">convert_from_df3dpp_to_dict()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.data">seqikpy.data module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.data.get_pts2align"><code class="docutils literal notranslate"><span class="pre">get_pts2align()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.head_inverse_kinematics">seqikpy.head_inverse_kinematics module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-notes">IMPORTANT NOTES:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple"><code class="docutils literal notranslate"><span class="pre">AxesTuple</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.X_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.X_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.Y_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Y_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.AxesTuple.Z_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Z_AXIS</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.angle_between_segments"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.angle_between_segments()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_antenna_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_yaw"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_antenna_yaw()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_angles"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_angles()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_roll"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_roll()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_yaw"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.compute_head_yaw()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.derotate_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.derotate_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_ant_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_ant_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_horizontal"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector_horizontal()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_mid"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_head_vector_mid()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_plane"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_plane()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_antenna_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_rest_antenna_pitch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_head_pitch"><code class="docutils literal notranslate"><span class="pre">HeadInverseKinematics.get_rest_head_pitch()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.kinematic_chain">seqikpy.kinematic_chain module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple"><code class="docutils literal notranslate"><span class="pre">AxesTuple</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.X_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.X_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.Y_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Y_AXIS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.AxesTuple.Z_AXIS"><code class="docutils literal notranslate"><span class="pre">AxesTuple.Z_AXIS</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainBase"><code class="docutils literal notranslate"><span class="pre">KinematicChainBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainBase.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainBase.create_leg_chain()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainGeneric"><code class="docutils literal notranslate"><span class="pre">KinematicChainGeneric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainGeneric.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainGeneric.create_leg_chain()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_1"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_1()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_2"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_3"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_3()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_4"><code class="docutils literal notranslate"><span class="pre">KinematicChainSeq.create_leg_chain_stage_4()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.kinematic_chain_trochanter">seqikpy.kinematic_chain_trochanter module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain"><code class="docutils literal notranslate"><span class="pre">KinematicChain</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_1"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_1()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_2"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_3"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_3()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_4"><code class="docutils literal notranslate"><span class="pre">KinematicChain.create_leg_chain_stage_4()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.leg_inverse_kinematics">seqikpy.leg_inverse_kinematics module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_fk()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_ik()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.get_scale_factor"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.get_scale_factor()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinBase.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinBase.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinGeneric.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinGeneric.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.calculate_ik_stage"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq.calculate_ik_stage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.leg_inverse_kinematics.LegInvKinSeq.run_ik_and_fk"><code class="docutils literal notranslate"><span class="pre">LegInvKinSeq.run_ik_and_fk()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.utils">seqikpy.utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.calculate_body_size"><code class="docutils literal notranslate"><span class="pre">calculate_body_size()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.compute_length_of_segment"><code class="docutils literal notranslate"><span class="pre">compute_length_of_segment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.compute_mean_length_of_segments"><code class="docutils literal notranslate"><span class="pre">compute_mean_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.df_to_nparray"><code class="docutils literal notranslate"><span class="pre">df_to_nparray()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dict_to_nparray_angle"><code class="docutils literal notranslate"><span class="pre">dict_to_nparray_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dict_to_nparray_pose"><code class="docutils literal notranslate"><span class="pre">dict_to_nparray_pose()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.dist_calc"><code class="docutils literal notranslate"><span class="pre">dist_calc()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.drop_level_dlc"><code class="docutils literal notranslate"><span class="pre">drop_level_dlc()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.fix_coxae_pos"><code class="docutils literal notranslate"><span class="pre">fix_coxae_pos()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.from_anipose_to_array"><code class="docutils literal notranslate"><span class="pre">from_anipose_to_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_array"><code class="docutils literal notranslate"><span class="pre">get_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_distance_btw_vecs"><code class="docutils literal notranslate"><span class="pre">get_distance_btw_vecs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_fps_from_video"><code class="docutils literal notranslate"><span class="pre">get_fps_from_video()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_leg_length"><code class="docutils literal notranslate"><span class="pre">get_leg_length()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_length_of_segments"><code class="docutils literal notranslate"><span class="pre">get_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_mean_length_of_segments"><code class="docutils literal notranslate"><span class="pre">get_mean_length_of_segments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_mean_quantile"><code class="docutils literal notranslate"><span class="pre">get_mean_quantile()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_stim_array"><code class="docutils literal notranslate"><span class="pre">get_stim_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.get_stim_intervals"><code class="docutils literal notranslate"><span class="pre">get_stim_intervals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.interpolate_joint_angles"><code class="docutils literal notranslate"><span class="pre">interpolate_joint_angles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.interpolate_signal"><code class="docutils literal notranslate"><span class="pre">interpolate_signal()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.leg_length_model"><code class="docutils literal notranslate"><span class="pre">leg_length_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.load_file"><code class="docutils literal notranslate"><span class="pre">load_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.load_stim_data"><code class="docutils literal notranslate"><span class="pre">load_stim_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.utils.save_file"><code class="docutils literal notranslate"><span class="pre">save_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy.visualization">seqikpy.visualization module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.animate_3d_points"><code class="docutils literal notranslate"><span class="pre">animate_3d_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.fig_to_array"><code class="docutils literal notranslate"><span class="pre">fig_to_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_frames_from_video_ffmpeg"><code class="docutils literal notranslate"><span class="pre">get_frames_from_video_ffmpeg()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_plot_config"><code class="docutils literal notranslate"><span class="pre">get_plot_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.get_video_writer"><code class="docutils literal notranslate"><span class="pre">get_video_writer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.load_grid_plot_data"><code class="docutils literal notranslate"><span class="pre">load_grid_plot_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.make_video"><code class="docutils literal notranslate"><span class="pre">make_video()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_3d_points"><code class="docutils literal notranslate"><span class="pre">plot_3d_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_grid"><code class="docutils literal notranslate"><span class="pre">plot_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_grid_generator"><code class="docutils literal notranslate"><span class="pre">plot_grid_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_joint_angle"><code class="docutils literal notranslate"><span class="pre">plot_joint_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.plot_trailing_kp"><code class="docutils literal notranslate"><span class="pre">plot_trailing_kp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.resize_frame"><code class="docutils literal notranslate"><span class="pre">resize_frame()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.resize_rgb_frame"><code class="docutils literal notranslate"><span class="pre">resize_rgb_frame()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seqikpy.visualization.video_frames_generator"><code class="docutils literal notranslate"><span class="pre">video_frames_generator()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-seqikpy">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By P. Gizem √ñzdil
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>