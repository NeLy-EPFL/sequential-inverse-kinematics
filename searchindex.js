Search.setIndex({"docnames": ["getting_started", "installation", "intro", "limitations", "methodology_alignment", "methodology_angle_calc", "modules", "overview", "references", "seqikpy", "seqikpy_grooming", "seqikpy_locomotion", "visualization"], "filenames": ["getting_started.ipynb", "installation.md", "intro.md", "limitations.md", "methodology_alignment.md", "methodology_angle_calc.md", "modules.rst", "overview.md", "references.md", "seqikpy.rst", "seqikpy_grooming.ipynb", "seqikpy_locomotion.ipynb", "visualization.ipynb"], "titles": ["Getting started", "Installation", "Welcome to SeqIKPy!", "Limitations", "3D pose alignment", "Inverse kinematics", "seqikpy", "Features", "Bibliography", "API Reference", "Using SeqIKPy for Drosophila grooming", "Using SeqIKPy for Drosophila locomotion", "Visualization tools"], "terms": {"To": [0, 1, 5], "us": [0, 2, 4, 5, 7, 9, 12], "seqikpi": [0, 1, 3, 7, 12], "your": [0, 2, 9, 10, 11], "own": 0, "first": [0, 4, 5, 9, 10, 11], "you": [0, 1, 2, 9, 10, 11], "instal": 0, "packag": [0, 1, 2, 3, 7], "can": [0, 1, 2, 9, 10, 11, 12], "pip": [0, 1], "onc": 0, "have": [0, 2, 5, 9, 10, 11], "import": [0, 6, 10, 11, 12], "analyz": [0, 4], "thi": [0, 2, 3, 4, 5, 9, 10, 11, 12], "tutori": [0, 7, 10, 11, 12], "show": [0, 9, 10, 11, 12], "how": [0, 7], "The": [0, 3, 4, 5, 9, 10, 11], "follow": [0, 1, 2, 3, 4, 5, 9], "step": [0, 3, 5, 9, 10, 11], "ar": [0, 3, 4, 5, 9, 10, 11], "requir": [0, 3, 4, 9], "skip": 0, "result": [0, 5, 7, 9, 10, 11, 12], "let": [0, 10, 11], "": [0, 4, 9, 10, 11, 12], "necessari": [0, 9, 10, 11, 12], "librari": [0, 5, 10, 11, 12], "load": [0, 9, 10, 11, 12], "from": [0, 2, 4, 5, 9, 10, 11, 12], "pathlib": [0, 9, 10, 11, 12], "path": [0, 9, 10, 11, 12], "numpi": [0, 10, 11, 12], "np": [0, 9, 10, 11, 12], "matplotlib": [0, 9, 10, 11, 12], "pyplot": [0, 10, 11, 12], "plt": [0, 9, 10, 11, 12], "pts2align": [0, 9, 10], "nmf_templat": [0, 9], "initial_angl": [0, 9, 10, 11], "bound": [0, 9, 10, 11], "util": [0, 6, 10, 11, 12], "load_fil": [0, 6, 9, 10, 11], "save_fil": [0, 6, 9, 10, 11], "calculate_body_s": [0, 6, 9, 10, 11], "dict_to_nparray_pos": [0, 6, 9, 10, 11], "alignpos": [0, 6, 9, 10, 11, 12], "convert_from_anipose_to_dict": [0, 6, 9, 10], "kinematic_chain": [0, 6, 10, 11, 12], "kinematicchainseq": [0, 6, 9, 10, 11, 12], "head_inverse_kinemat": [0, 6, 10], "headinversekinemat": [0, 6, 9, 10], "leg_inverse_kinemat": [0, 6, 10, 11, 12], "leginvkinseq": [0, 6, 9, 10, 11, 12], "plot_3d_point": [0, 6, 9, 10, 11], "animate_3d_point": [0, 6, 9, 10, 11], "below": [0, 2, 10, 11, 12], "contain": [0, 7, 9, 10, 11], "dure": [0, 10, 11], "locomot": [0, 10, 12], "path_to_data": 0, "pose_data": [0, 9, 10, 11], "process": [0, 3, 5, 9, 10, 11], "serv": [0, 4, 10, 11], "two": [0, 4, 5, 9, 10, 11], "purpos": [0, 4, 9, 10, 11], "transform": [0, 10, 11], "biomechan": [0, 4, 5, 7, 8, 9, 10, 11], "frame": [0, 3, 9, 10, 11], "refer": [0, 2, 6, 10, 11], "scale": [0, 4, 9, 10, 11], "match": [0, 2, 3, 4, 5, 9, 10, 11], "given": [0, 5, 9, 10, 11], "class": [0, 4, 9, 10, 11], "want": [0, 9, 10, 11], "all": [0, 9, 10, 11, 12], "one": [0, 4, 5, 9, 10, 11, 12], "perform": [0, 3, 9, 10, 11], "replai": [0, 4, 5, 10, 11], "simul": [0, 5, 10, 11], "altern": [0, 10, 11], "user": [0, 3, 4, 9, 10, 11], "provid": [0, 2, 3, 4, 9, 10, 11], "In": [0, 2, 3, 9, 10, 11, 12], "case": [0, 9, 10, 11], "ensur": [0, 9, 10, 11], "limb": [0, 4, 8, 9, 10, 11], "same": [0, 5, 9, 10, 11], "throughout": [0, 10, 11], "trial": [0, 9, 10, 11], "durat": [0, 10, 11], "work": [0, 9], "denois": 0, "note": [0, 1, 4, 5, 6, 12], "dictionari": [0, 9, 10, 11], "format": [0, 4, 9, 10, 11], "specif": [0, 4, 5, 10, 11, 12], "kei": [0, 4, 5, 9, 10, 11, 12], "valu": [0, 9, 10, 11], "For": [0, 5, 9, 10, 11], "each": [0, 3, 4, 9, 10, 11], "leg": [0, 4, 5, 7, 9, 10, 11, 12], "should": [0, 3, 4, 5, 9, 10, 11], "r": [0, 9, 10], "l": [0, 9, 10], "f": [0, 9, 12], "m": [0, 9], "h": [0, 9], "_leg": [0, 9], "which": [0, 4, 5, 9, 10, 11, 12], "consist": [0, 4, 5, 10, 11, 12], "an": [0, 2, 4, 5, 9, 10, 11], "arrai": [0, 9, 10, 11], "n_frame": [0, 9, 10, 12], "key_point": [0, 9], "5": [0, 8, 9], "ax": [0, 4, 5, 9, 10, 11], "point": [0, 4, 5, 9, 10, 11, 12], "order": [0, 5, 9, 10], "proxim": [0, 5], "distal": 0, "segment": [0, 4, 5, 9], "e": [0, 4, 5, 7, 9], "coxa": [0, 4, 5, 9], "femur": [0, 4, 5, 9], "tibia": [0, 4, 5, 9, 10, 11], "tarsu": [0, 4, 5, 9, 10, 11], "claw": [0, 4, 5, 9], "head": [0, 4, 7, 9, 12], "l_head": [0, 9], "r_head": [0, 9], "thorax": [0, 4, 5, 9], "where": [0, 9, 10, 11], "neck": [0, 5, 9, 10, 12], "base": [0, 2, 4, 5, 9, 10, 11], "tip": [0, 4, 5], "antenna": [0, 4, 5, 7, 9, 10], "left": [0, 4, 5, 9], "wing": [0, 4, 9], "hing": [0, 4, 9], "mid": [0, 4, 5, 9], "right": [0, 4, 5, 9], "templat": [0, 9, 10, 11], "rf_coxa": [0, 10, 11], "0": [0, 2, 9, 10, 11, 12], "33": [0, 10], "17": [0, 10], "07": [0, 10, 11], "rf_femur": [0, 10, 11], "67": [0, 10], "rf_tibia": [0, 10, 11], "02": [0, 10, 11], "rf_tarsu": [0, 10, 11], "56": [0, 10], "rf_claw": [0, 10, 11], "19": [0, 8, 9, 10], "lf_coxa": [0, 10, 11], "lf_femur": [0, 10, 11], "lf_tibia": [0, 10, 11], "lf_tarsu": [0, 10, 11], "lf_claw": [0, 10, 11], "pose_data_dict": [0, 9, 10, 11], "legs_list": [0, 9, 10, 11], "rf": [0, 9, 10, 11], "lf": [0, 9, 10, 11], "include_claw": [0, 9, 10, 11], "fals": [0, 9, 10, 11], "body_templ": [0, 9, 10, 11], "body_s": [0, 9, 10, 11], "none": [0, 9, 10, 11], "log_level": [0, 9, 10, 11], "info": [0, 9, 10, 11], "analysi": 0, "creat": [0, 9, 12], "yor": 0, "record": [0, 9], "see": [0, 3, 4, 9], "function": [0, 5, 9], "exp_templ": 0, "aligned_po": [0, 9, 10, 11], "align_pos": [0, 6, 9, 10, 11], "export_path": [0, 9, 10, 11, 12], "Then": 0, "proce": 0, "next": 0, "we": [0, 2, 3, 5, 9, 10, 11, 12], "initi": [0, 1, 4, 9, 10, 11], "determin": [0, 9, 10, 11, 12], "seed": [0, 9, 10, 11], "time": [0, 9, 10, 11], "while": [0, 9, 10, 11], "crucial": [0, 10, 11], "out": [0, 10, 11], "dof": [0, 5, 9, 10, 11], "limit": [0, 10, 11], "rais": [0, 9, 10, 11], "error": [0, 5, 9, 10, 11], "secondli": [0, 10, 11], "defin": [0, 9], "some": [0, 10, 11], "lower": [0, 8, 9, 10, 11], "upper": [0, 8, 10, 11], "again": [0, 9, 10, 11], "inform": [0, 9, 10, 11], "help": [0, 10, 11], "prevent": [0, 10, 11], "singular": [0, 10, 11], "optim": [0, 3, 5, 8, 9, 10, 11], "exampl": [0, 3, 7, 9, 10, 11], "pitch": [0, 5, 9, 10, 11], "exce": [0, 10, 11], "degre": [0, 5, 9, 10, 11], "alwai": [0, 10, 11], "neg": [0, 9, 10, 11], "sinc": [0, 5, 10, 11], "rotat": [0, 3, 4, 5, 9, 10, 11], "clockwis": [0, 10, 11], "so": [0, 10, 11, 12], "make": [0, 9, 10, 11, 12], "sens": [0, 10, 11], "assign": [0, 10, 11], "now": [0, 9], "default": [0, 9, 10, 11], "modul": [0, 1, 6], "kin_chain": [0, 10, 11], "bounds_dof": [0, 9, 10, 11], "put": [0, 9, 12], "prefer": 0, "biomechen": 0, "real": [0, 4, 5, 9, 10, 11], "class_seq_ik": [0, 10, 11], "kinematic_chain_class": [0, 9, 10, 11], "code": [0, 2, 9, 10, 11, 12], "commenc": [0, 10, 11], "ik": [0, 2, 10, 11], "four": [0, 5, 10, 11], "stage": [0, 4, 5, 9, 10, 11], "per": [0, 9, 10, 11], "chain": [0, 2, 5, 9, 10, 11], "more": [0, 3, 5, 9, 10, 11], "detail": [0, 3, 9, 10, 11], "pleas": [0, 2, 3, 9, 10, 11], "visit": [0, 8, 10, 11], "methodologi": [0, 10, 11], "page": [0, 2, 10, 11], "after": [0, 10, 11], "over": [0, 10, 11], "run_ik_and_fk": [0, 6, 9, 10, 11], "save": [0, 9, 10, 11], "separet": [0, 10, 11], "pkl": [0, 9, 10, 11], "file": [0, 9, 10, 11], "leg_joint_angl": [0, 9, 10, 11], "pickl": [0, 9, 10, 11], "forward_kinemat": [0, 9, 10, 11], "posit": [0, 4, 5, 9, 10, 11], "construct": [0, 5, 9, 10, 11], "debug": [0, 9, 10, 11], "data_path": [0, 9, 10, 11, 12], "hide_progress_bar": [0, 9, 10, 11], "plot": [0, 9, 10, 11, 12], "six": [0, 10, 11, 12], "leg_joint_angle_nam": [0, 10, 11, 12], "thc_yaw": [0, 9, 10, 11, 12], "thc_pitch": [0, 9, 10, 11, 12], "thc_roll": [0, 9, 10, 11, 12], "ctr_pitch": [0, 9, 10, 11, 12], "ctr_roll": [0, 9, 10, 11, 12], "fti_pitch": [0, 9, 10, 11, 12], "tita_pitch": [0, 9, 10, 11, 12], "fig": [0, 9, 10, 11, 12], "subplot": [0, 10, 11], "figsiz": [0, 10, 11], "9": [0, 10, 11], "dpi": [0, 10, 11], "200": [0, 10, 11, 12], "flatten": [0, 10, 11], "angle_nam": [0, 10, 11], "leg_nam": [0, 9, 10, 11], "enumer": [0, 10, 11], "rad2deg": [0, 10, 11], "angle_": [0, 10, 11], "_": [0, 10, 11], "label": [0, 10, 11], "lw": [0, 10, 11], "set_ylabel": [0, 10, 11], "time_step": [0, 10, 11], "1e": [0, 9, 10, 11], "set_xticklabel": [0, 10, 11], "get_xtick": [0, 10, 11], "dtype": [0, 10, 11], "set_xlabel": [0, 10, 11], "sec": [0, 10, 11], "legend": [0, 9, 10, 11], "bbox_to_anchor": [0, 10, 11], "frameon": [0, 10, 11], "suptitl": [0, 10, 11], "deg": [0, 10, 11], "tight_layout": [0, 10, 11], "savefig": [0, 11], "alljoints_follow_ikpy_left": [0, 11], "png": [0, 10, 11, 12], "bbox_inch": [0, 11], "tight": [0, 11], "300": [0, 11], "chang": [0, 10], "tile": [0, 10, 12], "axim": 0, "elev": [0, 9, 10, 11], "90": [0, 5, 9, 10, 11], "points3d": [0, 9, 10, 11], "points3d_second": [0, 9, 10, 11], "fk_ik_elev_": [0, 10, 11], "_azim_": [0, 10, 11], "azim": [0, 9, 10, 11], "mp4": [0, 9, 10, 11, 12], "frame_no": [0, 9, 10, 11], "fp": [0, 9, 10, 11, 12], "100": [0, 9, 10, 11, 12], "run": [1, 3, 9], "line": [1, 9], "termin": 1, "Or": [1, 9], "newest": 1, "version": 1, "manual": [1, 9], "http": [1, 8], "github": 1, "com": [1, 8], "neli": 1, "epfl": 1, "sequenti": [1, 3, 7, 9], "invers": [1, 2, 3, 7, 9], "kinemat": [1, 2, 3, 4, 7, 8, 9, 12], "git": 1, "ikpi": [1, 2, 5, 9], "i": [1, 2, 3, 4, 5, 9, 10, 11, 12], "ad": [1, 5], "submodul": [1, 6], "add": 1, "gizemozd": 1, "ikpy_submodul": 1, "updat": 1, "init": 1, "python": 2, "implement": [2, 9], "open": [2, 5, 9], "sourc": [2, 5, 9], "constrast": 2, "current": [2, 3], "approach": [2, 5], "aim": [2, 4], "onli": [2, 9], "end": [2, 5, 9, 12], "effector": [2, 5, 9], "design": 2, "calcul": [2, 3, 7, 9, 10, 11], "joint": [2, 7, 8, 9, 12], "angl": [2, 7, 9, 12], "fly": [2, 4, 7, 9], "bodi": [2, 4, 5, 9, 12], "part": [2, 5, 9, 12], "align": [2, 3, 6, 7, 12], "3d": [2, 3, 7, 9], "pose": [2, 5, 7, 9, 12], "entir": [2, 4, 5, 9], "desir": 2, "particular": 2, "pipelin": [2, 5], "shown": [2, 4], "commun": 2, "If": [2, 3, 4, 9, 10, 11, 12], "would": [2, 9], "like": [2, 9], "project": [2, 9, 10, 11], "guidelin": 2, "also": [2, 5, 12], "read": [2, 9], "our": [2, 5], "conduct": 2, "ani": [2, 9], "question": 2, "feel": 2, "free": 2, "contact": 2, "develop": [2, 5], "under": 2, "apach": 2, "2": [2, 5, 9, 10, 11], "encount": 2, "bug": 2, "request": 2, "new": [2, 3, 4, 9], "featur": 2, "find": [2, 9], "research": 2, "consid": 2, "bibtex": 2, "entri": 2, "orient": [3, 4, 9], "data": [3, 4, 5, 6, 7, 12], "doe": [3, 4, 9], "issu": [3, 5], "mai": [3, 8, 9], "aris": 3, "when": [3, 5, 12], "number": [3, 9], "larg": 3, "due": [3, 10, 11], "natur": [3, 8], "other": [3, 5, 12], "word": 3, "occur": 3, "script": 3, "multipl": 3, "dataset": 3, "parallel": 3, "check": [3, 9], "folder": [3, 7, 9], "comput": [4, 5, 9, 10, 11], "could": 4, "primari": 4, "behavior": 4, "space": 4, "insight": 4, "actuat": 4, "embodi": 4, "agent": 4, "replic": 4, "lrro": [4, 8], "22": [4, 8], "wcso": [4, 8], "23": [4, 8], "map": [4, 9], "experiment": [4, 9, 10, 11], "acquir": 4, "model": [4, 5, 7, 8, 9], "neuromechfli": [4, 7, 8, 10, 11], "At": 4, "distanc": [4, 5], "between": [4, 5, 9, 10], "landmark": 4, "deriv": [4, 5], "constant": [4, 9, 10, 11, 12], "magnifi": 4, "reduc": 4, "size": [4, 9, 10, 11], "proport": 4, "biomech": 4, "front": [4, 9, 12], "antenn": [4, 9], "marker": [4, 9], "g": [4, 5, 7, 9], "side": [4, 9], "yield": [4, 9], "factor": [4, 9, 10, 11], "multipli": [4, 9], "correspond": [4, 9, 10, 11], "allow": 4, "u": 4, "task": 4, "anim": [4, 7, 9], "instead": 4, "individu": 4, "done": 4, "caus": [4, 5], "deviat": [4, 9], "second": [4, 9], "involv": 4, "translat": [4, 9], "fix": [4, 9], "respect": [4, 9], "locat": [4, 9], "expect": [4, 9], "addition": 4, "x": [4, 9, 10, 11, 12], "axi": [4, 5, 9], "anterior": 4, "posterior": 4, "y": [4, 9, 10, 11], "later": [4, 9], "centric": 4, "coordin": [4, 9], "z": [4, 9, 10, 11], "dorsoventr": [4, 5], "dorsal": 4, "ventral": 4, "abov": [4, 5, 9, 11], "ultim": 4, "ha": [4, 9], "twofold": 4, "abolish": 4, "nois": 4, "origin": [4, 5, 9], "jitteri": 4, "minim": [4, 5], "variat": 4, "induc": 4, "triangul": [4, 9], "main": [5, 7], "dot": [5, 7, 10], "product": [5, 7, 10], "center": [5, 9], "assum": [5, 9], "intersect": 5, "vector": [5, 7, 9, 10], "might": [5, 9], "forward": [5, 9], "far": 5, "On": 5, "hand": 5, "link": [5, 10], "pivot": 5, "try": 5, "close": [5, 9], "possibl": [5, 9], "howev": [5, 9], "disregard": 5, "previou": [5, 9, 12], "lead": 5, "unrealist": 5, "reconcil": 5, "shortcom": 5, "algorithm": 5, "known": 5, "movement": 5, "inspir": 5, "control": 5, "humanoid": 5, "robot": 5, "human": [5, 8], "motion": 5, "captur": 5, "bad18": [5, 8], "begin": 5, "most": 5, "certain": 5, "subsequ": 5, "It": [5, 9, 10, 11], "extend": [5, 12], "anoth": 5, "repeat": [5, 9], "until": [5, 9], "reach": 5, "compris": 5, "1": [5, 8, 9, 10, 11, 12], "yaw": [5, 9, 10, 11], "around": [5, 9], "anteroposterior": [5, 9], "mediolater": 5, "trochant": [5, 9], "fuse": 5, "roll": [5, 9, 10, 11], "3": [5, 9, 10, 11, 12], "4": [5, 9, 10, 11], "build": 5, "upon": 5, "scipi": 5, "scalar": 5, "euler": 5, "essenti": 5, "keep": 5, "instanc": [5, 9], "intrins": 5, "move": [5, 9], "infeas": 5, "tend": 5, "than": 5, "thu": 5, "introduc": [5, 9], "resort": 5, "formula": [5, 9], "global": 5, "swap": 5, "role": 5, "inaccur": 5, "circumv": 5, "de": 5, "amount": [5, 9], "api": 6, "align_head": [6, 9], "align_leg": [6, 9], "find_scale_leg": [6, 9], "find_stationary_indic": [6, 9], "from_file_path": [6, 9], "get_fixed_po": [6, 9], "get_mean_length": [6, 9], "thorax_mid_pt": [6, 9], "convert_from_df3d_to_dict": [6, 9], "convert_from_df3dpp_to_dict": [6, 9, 11, 12], "get_pts2align": [6, 9], "axestupl": [6, 9], "x_axi": [6, 9], "y_axi": [6, 9], "z_axi": [6, 9], "angle_between_seg": [6, 9], "compute_antenna_pitch": [6, 9], "compute_antenna_yaw": [6, 9], "compute_head_angl": [6, 9, 10], "compute_head_pitch": [6, 9], "compute_head_rol": [6, 9], "compute_head_yaw": [6, 9], "derotate_vector": [6, 9], "get_ant_vector": [6, 9], "get_head_vector": [6, 9], "get_head_vector_horizont": [6, 9], "get_head_vector_mid": [6, 9], "get_plan": [6, 9], "get_rest_antenna_pitch": [6, 9], "get_rest_head_pitch": [6, 9], "kinematicchainbas": [6, 9], "create_leg_chain": [6, 9], "kinematicchaingener": [6, 9], "create_leg_chain_stage_1": [6, 9], "create_leg_chain_stage_2": [6, 9], "create_leg_chain_stage_3": [6, 9], "create_leg_chain_stage_4": [6, 9], "kinematic_chain_trochant": 6, "kinematicchain": [6, 9], "leginvkinbas": [6, 9], "calculate_fk": [6, 9], "calculate_ik": [6, 9], "calculate_ik_stag": [6, 9], "get_scale_factor": [6, 9], "leginvkingener": [6, 9], "compute_length_of_seg": [6, 9], "compute_mean_length_of_seg": [6, 9], "df_to_nparrai": [6, 9], "dict_to_nparray_angl": [6, 9], "dist_calc": [6, 9], "drop_level_dlc": [6, 9], "fix_coxae_po": [6, 9], "from_anipose_to_arrai": [6, 9], "get_arrai": [6, 9], "get_distance_btw_vec": [6, 9], "get_fps_from_video": [6, 9], "get_leg_length": [6, 9], "get_length_of_seg": [6, 9], "get_mean_length_of_seg": [6, 9], "get_mean_quantil": [6, 9], "get_stim_arrai": [6, 9], "get_stim_interv": [6, 9], "interpolate_joint_angl": [6, 9], "interpolate_sign": [6, 9], "leg_length_model": [6, 9], "load_stim_data": [6, 9], "visual": [6, 7], "fig_to_arrai": [6, 9], "get_frames_from_video_ffmpeg": [6, 9, 12], "get_plot_config": [6, 9, 12], "get_video_writ": [6, 9], "load_grid_plot_data": [6, 9, 12], "make_video": [6, 9, 12], "plot_grid": [6, 9, 12], "plot_grid_gener": [6, 9, 12], "plot_joint_angl": [6, 9], "plot_trailing_kp": [6, 9], "resize_fram": [6, 9], "resize_rgb_fram": [6, 9], "video_frames_gener": [6, 9, 12], "content": 6, "method": [7, 8, 9, 10], "sampl": [7, 9], "doc": 7, "document": 7, "websit": 7, "test": 7, "micka\u00ebl": 8, "begon": 8, "michael": 8, "skipper": 8, "andersen": 8, "rapha\u00ebl": 8, "duma": 8, "multibodi": 8, "estim": 8, "systemat": 8, "methodolog": 8, "review": 8, "journal": 8, "engin": 8, "januari": 8, "2018": 8, "url": 8, "doi": 8, "org": 8, "10": [8, 9, 10], "1115": 8, "4038741": 8, "2023": 8, "12": 8, "15": [8, 9], "victor": 8, "lobato": 8, "rio": 8, "shravan": 8, "tata": 8, "ramalingasetti": 8, "pemb": 8, "gizem": 8, "\u00f6zdil": 8, "jonathan": 8, "arreguit": 8, "auk": 8, "jan": 8, "ijspeert": 8, "pavan": 8, "ramdya": 8, "neuromechan": 8, "adult": 8, "drosophila": 8, "melanogast": 8, "620": [8, 11], "627": 8, "2022": 8, "www": 8, "articl": 8, "s41592": 8, "022": 8, "01466": 8, "7": 8, "09": 8, "21": [8, 10], "1038": 8, "miss": [8, 9], "wang2023neuromechfli": 8, "best": 9, "practic": 9, "get": 9, "good": [9, 10, 11], "accur": 9, "whose": 9, "track": 9, "ndarrai": 9, "_head": 9, "usag": 9, "differ": [9, 10], "need": [9, 10, 11], "three": 9, "obtain": 9, "convert": [9, 10, 11], "describ": 9, "anipos": 9, "simpli": 9, "set": [9, 10, 11, 12], "true": [9, 10, 11], "anipose_220525_ajo_fly001_001": 9, "main_dir": 9, "file_nam": 9, "pose3d": [9, 10], "h5": [9, 10], "convert_dict": 9, "structur": [9, 10, 11], "just": 9, "converted_pose_dict": 9, "alreadi": 9, "feed": 9, "static": 9, "convert_from_anipos": 9, "f_path": 9, "rb": 9, "dict": 9, "str": [9, 12], "list": [9, 12], "bool": 9, "float": 9, "liter": 9, "warn": 9, "object": 9, "example_align": 9, "py": 9, "paramet": 9, "rf_leg": [9, 12], "n_key_point": 9, "lf_leg": [9, 12], "A": 9, "name": 9, "oper": 9, "convent": 9, "rm": [9, 11], "lm": [9, 11], "rh": [9, 11], "lh": [9, 11], "option": [9, 10, 11], "includ": 9, "otherwis": 9, "log": 9, "level": 9, "string": 9, "head_arrai": 9, "configur": 9, "take": 9, "them": 9, "predefin": 9, "account": 9, "rel": 9, "indic": 9, "return": 9, "type": 9, "keyerror": 9, "antenna_mid_thorax": 9, "leg_arrai": 9, "union": 9, "specifi": 9, "mean_length": 9, "ratio": 9, "threshold": 9, "5e": 9, "05": 9, "significantli": 9, "classmethod": 9, "convert_func": 9, "callabl": 9, "kwarg": 9, "proper": 9, "By": 9, "cale": 9, "pose_result_path": 9, "modifi": 9, "accordingli": 9, "fly001": 9, "001_beh": 9, "behdata": 9, "convers": 9, "filenotfounderror": 9, "exist": 9, "points_3d": 9, "steadi": 9, "quantil": 9, "segment_arrai": 9, "segment_is_leg": 9, "mean": 9, "length": 9, "properti": 9, "middl": 9, "pose_3d": 9, "keypoint": 9, "keypoint_nam": 9, "_x": 9, "_y": 9, "_z": 9, "deepfly3d": 9, "repositori": 9, "n": 9, "arang": 9, "rm_leg": 9, "rh_leg": 9, "24": [9, 11], "lm_leg": 9, "29": 9, "lh_leg": 9, "34": 9, "deepfly3dpostprocess": 9, "delet": 9, "normal_cas": 9, "aligned_pose3d": 9, "class_hk": [9, 10], "joint_angl": [9, 12], "must": 9, "shape": [9, 12], "count": 9, "edg": 9, "repres": 9, "dimens": 9, "vari": 9, "singl": 9, "calculate_ant_angl": 9, "bristl": 9, "tupl": 9, "alia": 9, "field": 9, "principl": 9, "v1": 9, "v2": 9, "rot_axi": 9, "co": 9, "revers": 9, "sign": 9, "matrix": 9, "radian": 9, "head_rol": 9, "rad": 9, "onto": 9, "sagitt": 9, "plane": 9, "ant": [9, 10], "furthermor": 9, "subtract": 9, "rest": 9, "higher": 9, "lift": 9, "upward": 9, "transvers": 9, "closer": 9, "midlin": 9, "compute_ant_angl": [9, 10], "export": 9, "dicitonari": 9, "sum": 9, "horizont": 9, "coord": 9, "frontal": 9, "head_roll_angl": 9, "vector_to_derot": 9, "along": 9, "row": 9, "n_row": 9, "int": 9, "mani": 9, "zero": 9, "abc": 9, "abstract": 9, "freedom": 9, "gener": [9, 12], "etc": 9, "t": [9, 10, 11, 12], "valueerror": 9, "nmf_offset": 9, "offset": 9, "femur_orient": 9, "target_po": 9, "end_effector_po": 9, "segment_nam": 9, "po": [9, 12], "cartesian": 9, "attribut": 9, "noth": 9, "manner": 9, "pose3d_align": 9, "seq_ik": 9, "gen_ik": 9, "within": 9, "koint": 9, "hide": 9, "progress": 9, "bar": 9, "segment_beg": 9, "segment_end": 9, "segment_length": 9, "data_fram": 9, "claw_is_end_effector": 9, "usual": 9, "datafram": 9, "dimension": [9, 12], "angle_dict": 9, "df3dpp": 9, "pose_dict": 9, "dlc": 9, "df": 9, "right_coxa_kp": 9, "thorax_coxa_r": 9, "left_coxa_kp": 9, "thorax_coxa_l": 9, "kp_name": 9, "kp_dict": 9, "vector1": 9, "vector2": 9, "video_dir": 9, "video": [9, 12], "mean_segment_s": 9, "claw_is_e": 9, "quantile_diff": 9, "frame_r": 9, "hamming_window_s": 9, "time_scal": 9, "001": 9, "stimulu": 9, "stim": 9, "rate": 9, "interpol": 9, "appli": [9, 12], "filter": 9, "28": 9, "msec": 9, "boolean": 9, "stim_data": 9, "interv": 9, "joint_angles_dict": 9, "signal": 9, "original_t": 9, "new_t": 9, "nmf_size": 9, "output_fnam": 9, "txt": 9, "out_fnam": 9, "1000": 9, "format_video": 9, "titl": 9, "marker_typ": 9, "intend": 9, "raw": [9, 10, 11], "maximum": 9, "view": 9, "azimuth": 9, "figur": [9, 10, 11], "ffmpeg": 9, "append": 9, "_frame": 9, "condit": 9, "look": 9, "mnt": 9, "nas2": 9, "go": 9, "7cam": 9, "220810_ajo": 9, "gal4xua": [9, 10, 12], "cschr": 9, "001_rlf": 9, "video_path": 9, "output_shap": 9, "videowrit": 9, "grid": 9, "frame_gener": 9, "iter": 9, "2880": 9, "imag": 9, "ax3d": [9, 10, 11], "line_styl": [9, 10, 11], "solid": 9, "img_front": [9, 12], "img_sid": [9, 12], "aligned_pos": [9, 12], "leg_angles_to_plot": [9, 12], "head_angles_to_plot": [9, 12], "t_start": [9, 12], "t_end": [9, 12], "t_interv": [9, 12], "20": [9, 10], "trail": [9, 12], "30": [9, 12], "key_points_to_trail": [9, 12], "marker_types_3d": 9, "marker_trail": [9, 12], "stim_lin": [9, 12], "layout": 9, "loop": 9, "afterward": 9, "togeth": 9, "camera": 9, "without": [9, 10], "exact": 9, "start": [9, 10, 11, 12], "seri": 9, "tick": 9, "visibl": 9, "style": [9, 10, 11], "stimul": [9, 12], "fly_frames_front": [9, 12], "fly_frames_sid": [9, 12], "kinematics_data": 9, "angles_to_plot": 9, "until_t": 9, "show_legend": 9, "displai": 9, "kienmat": 9, "column": 9, "th": 9, "vertic": 9, "segments_to_plot": 9, "trace": 9, "original_s": 9, "target_s": 9, "resiz": 9, "target": 9, "preserv": 9, "width": 9, "rgb": 9, "start_fram": 9, "end_fram": 9, "radiu": 9, "50": [9, 10, 11, 12], "color": 9, "255": 9, "bright": 9, "contrast": 9, "autoreload": 10, "up": [10, 11, 12], "variabl": [10, 11, 12], "legs_to_align": [10, 11], "anipose_pos": [10, 12], "220807_ajo": [10, 12], "cschr_fly002_002_beh": [10, 12], "compat": [10, 11], "converted_dict_ful": [10, 11], "select": [10, 11], "period": [10, 11], "happen": [10, 11], "converted_dict": [10, 11], "dict_v": [10, 11], "item": [10, 11], "400": [10, 11, 12], "600": 10, "veri": [10, 11], "challeng": [10, 11], "precis": [10, 11], "complex": [10, 11], "exoskeleton": [10, 11], "here": [10, 11], "previous": [10, 11], "publish": [10, 11], "melonagestor": [10, 11], "identifi": [10, 11], "template_nmf_groom": 10, "r_antenna_bas": 10, "01": 10, "41": 10, "l_antenna_bas": 10, "r_antenna_edg": 10, "06": [10, 11], "14": [10, 11], "l_antenna_edg": 10, "r_wing": 10, "08": [10, 11], "43": [10, 11], "l_wing": 10, "53": 10, "thorax_mid": 10, "2024": [10, 11], "16": [10, 11], "38": 10, "905": 10, "299136588367448": 10, "itself": 10, "0696614255829213": 10, "909": 10, "3732827141008928": 10, "912": [10, 11], "267804996386114": 10, "216483887152704": 10, "914": 10, "199567458065388": 10, "917": 10, "As": 10, "connect": 10, "imposs": 10, "lose": 10, "accuraci": 10, "therefor": 10, "adopt": 10, "head_joint_angl": 10, "962": 10, "initial_angles_groom": 10, "thc": [10, 11], "ctr": [10, 11], "stage_1": [10, 11], "45": [10, 11], "stage_2": [10, 11], "32": [10, 11], "fti": [10, 11], "stage_3": [10, 11], "25": [10, 11], "48": [10, 11], "tita": [10, 11], "stage_4": [10, 11], "contralater": 10, "bounds_groom": 10, "rf_thc_roll": [10, 11], "deg2rad": [10, 11], "130": 10, "rf_thc_yaw": [10, 11], "rf_thc_pitch": [10, 11], "40": 10, "60": 10, "rf_ctr_pitch": [10, 11], "180": [10, 11], "rf_ctr_roll": [10, 11], "150": 10, "rf_fti_pitch": [10, 11], "170": 10, "rf_tita_pitch": [10, 11], "lf_thc_roll": [10, 11], "lf_thc_yaw": [10, 11], "lf_thc_pitch": [10, 11], "lf_ctr_pitch": [10, 11], "lf_ctr_roll": [10, 11], "lf_fti_pitch": [10, 11], "lf_tita_pitch": [10, 11], "39": 10, "080": 10, "655": 10, "44": 10, "033": 10, "772": 10, "fk_ik_elev_10_azim_0": 10, "add_subplot": [10, 11], "view_init": [10, 11], "set_zlabel": [10, 11], "6": [10, 11], "set_titl": [10, 11], "fk": [10, 11], "95": [10, 11], "df3d_pose_result__210902_pr_fly1": 11, "pose_result__210902_pr_fly1_align": 11, "groom": 11, "df3d_180921_adn_csch_fly6_003_sg1": 11, "aligned_pose__180921_adn_csch_fly6_003_sg1_behdata_images_imag": 11, "template_nmf_locomot": 11, "35": 11, "27": 11, "025": 11, "731": 11, "249": 11, "rm_coxa": 11, "125": 11, "rm_femur": 11, "182": 11, "rm_tibia": 11, "965": 11, "rm_tarsu": 11, "633": 11, "rm_claw": 11, "328": 11, "lm_coxa": 11, "lm_femur": 11, "lm_tibia": 11, "lm_tarsu": 11, "lm_claw": 11, "rh_coxa": 11, "215": 11, "087": 11, "073": 11, "rh_femur": 11, "272": 11, "rh_tibia": 11, "108": 11, "rh_tarsu": 11, "793": 11, "rh_claw": 11, "588": 11, "lh_coxa": 11, "lh_femur": 11, "lh_tibia": 11, "lh_tarsu": 11, "lh_claw": 11, "04": 11, "609": 11, "006482293211129": 11, "612": 11, "026667148098488": 11, "616": 11, "0121829552693662": 11, "0138788147880813": 11, "624": 11, "0134311442162325": 11, "628": 11, "0027376149059155": 11, "630": 11, "initial_angles_locomot": 11, "37": 11, "bounds_locomot": 11, "141592653589793": 11, "rm_thc_yaw": 11, "rm_thc_pitch": 11, "rm_thc_roll": 11, "rm_ctr_pitch": 11, "rm_fti_pitch": 11, "rm_ctr_roll": 11, "rm_tita_pitch": 11, "rh_thc_yaw": 11, "rh_thc_pitch": 11, "rh_thc_roll": 11, "rh_ctr_pitch": 11, "rh_fti_pitch": 11, "rh_ctr_roll": 11, "rh_tita_pitch": 11, "lm_thc_yaw": 11, "lm_thc_pitch": 11, "lm_thc_roll": 11, "lm_ctr_pitch": 11, "lm_fti_pitch": 11, "lm_ctr_roll": 11, "lm_tita_pitch": 11, "lh_thc_yaw": 11, "lh_thc_pitch": 11, "lh_thc_roll": 11, "lh_ctr_pitch": 11, "lh_fti_pitch": 11, "lh_ctr_roll": 11, "lh_tita_pitch": 11, "763": 11, "251": 11, "automat": 11, "081": 11, "692": 11, "fk_ik_elev_90_azim_0": 11, "angle_head_rol": 12, "angle_head_pitch": 12, "angle_head_yaw": 12, "angle_antenna_pitch_l": 12, "angle_antenna_pitch_r": 12, "video_path_front": 12, "camera_3": 12, "video_path_sid": 12, "camera_5": 12, "written": 12, "One": 12, "easili": 12, "config": 12, "exp_typ": 12, "plot_config": 12, "reshap": 12, "snapshot": 12, "ignor": 12, "becaus": 12, "crop": 12, "crop_tim": 12, "frame_": 12, "_alpha1": 12, "2_beta_0": 12, "grid_video": 12, "199it": 12, "00": 12, "58": 12, "41it": 12}, "objects": {"": [[9, 0, 0, "-", "seqikpy"]], "seqikpy": [[9, 0, 0, "-", "alignment"], [9, 0, 0, "-", "data"], [9, 0, 0, "-", "head_inverse_kinematics"], [9, 0, 0, "-", "kinematic_chain"], [9, 0, 0, "-", "kinematic_chain_trochanter"], [9, 0, 0, "-", "leg_inverse_kinematics"], [9, 0, 0, "-", "utils"], [9, 0, 0, "-", "visualization"]], "seqikpy.alignment": [[9, 1, 1, "", "AlignPose"], [9, 4, 1, "", "convert_from_anipose_to_dict"], [9, 4, 1, "", "convert_from_df3d_to_dict"], [9, 4, 1, "", "convert_from_df3dpp_to_dict"]], "seqikpy.alignment.AlignPose": [[9, 2, 1, "", "align_head"], [9, 2, 1, "", "align_leg"], [9, 2, 1, "", "align_pose"], [9, 2, 1, "", "find_scale_leg"], [9, 2, 1, "", "find_stationary_indices"], [9, 2, 1, "", "from_file_path"], [9, 2, 1, "", "get_fixed_pos"], [9, 2, 1, "", "get_mean_length"], [9, 3, 1, "", "thorax_mid_pts"]], "seqikpy.data": [[9, 4, 1, "", "get_pts2align"]], "seqikpy.head_inverse_kinematics": [[9, 1, 1, "", "AxesTuple"], [9, 1, 1, "", "HeadInverseKinematics"]], "seqikpy.head_inverse_kinematics.AxesTuple": [[9, 5, 1, "", "X_AXIS"], [9, 5, 1, "", "Y_AXIS"], [9, 5, 1, "", "Z_AXIS"]], "seqikpy.head_inverse_kinematics.HeadInverseKinematics": [[9, 2, 1, "", "angle_between_segments"], [9, 2, 1, "", "compute_antenna_pitch"], [9, 2, 1, "", "compute_antenna_yaw"], [9, 2, 1, "", "compute_head_angles"], [9, 2, 1, "", "compute_head_pitch"], [9, 2, 1, "", "compute_head_roll"], [9, 2, 1, "", "compute_head_yaw"], [9, 2, 1, "", "derotate_vector"], [9, 2, 1, "", "get_ant_vector"], [9, 2, 1, "", "get_head_vector"], [9, 2, 1, "", "get_head_vector_horizontal"], [9, 2, 1, "", "get_head_vector_mid"], [9, 2, 1, "", "get_plane"], [9, 2, 1, "", "get_rest_antenna_pitch"], [9, 2, 1, "", "get_rest_head_pitch"]], "seqikpy.kinematic_chain": [[9, 1, 1, "", "AxesTuple"], [9, 1, 1, "", "KinematicChainBase"], [9, 1, 1, "", "KinematicChainGeneric"], [9, 1, 1, "", "KinematicChainSeq"]], "seqikpy.kinematic_chain.AxesTuple": [[9, 5, 1, "", "X_AXIS"], [9, 5, 1, "", "Y_AXIS"], [9, 5, 1, "", "Z_AXIS"]], "seqikpy.kinematic_chain.KinematicChainBase": [[9, 2, 1, "", "create_leg_chain"]], "seqikpy.kinematic_chain.KinematicChainGeneric": [[9, 2, 1, "", "create_leg_chain"]], "seqikpy.kinematic_chain.KinematicChainSeq": [[9, 2, 1, "", "create_leg_chain"], [9, 2, 1, "", "create_leg_chain_stage_1"], [9, 2, 1, "", "create_leg_chain_stage_2"], [9, 2, 1, "", "create_leg_chain_stage_3"], [9, 2, 1, "", "create_leg_chain_stage_4"]], "seqikpy.kinematic_chain_trochanter": [[9, 1, 1, "", "KinematicChain"]], "seqikpy.kinematic_chain_trochanter.KinematicChain": [[9, 2, 1, "", "create_leg_chain"], [9, 2, 1, "", "create_leg_chain_stage_1"], [9, 2, 1, "", "create_leg_chain_stage_2"], [9, 2, 1, "", "create_leg_chain_stage_3"], [9, 2, 1, "", "create_leg_chain_stage_4"]], "seqikpy.leg_inverse_kinematics": [[9, 1, 1, "", "LegInvKinBase"], [9, 1, 1, "", "LegInvKinGeneric"], [9, 1, 1, "", "LegInvKinSeq"]], "seqikpy.leg_inverse_kinematics.LegInvKinBase": [[9, 2, 1, "", "calculate_fk"], [9, 2, 1, "", "calculate_ik"], [9, 2, 1, "", "calculate_ik_stage"], [9, 2, 1, "", "get_scale_factor"], [9, 2, 1, "", "run_ik_and_fk"]], "seqikpy.leg_inverse_kinematics.LegInvKinGeneric": [[9, 2, 1, "", "calculate_ik_stage"], [9, 2, 1, "", "run_ik_and_fk"]], "seqikpy.leg_inverse_kinematics.LegInvKinSeq": [[9, 2, 1, "", "calculate_ik_stage"], [9, 2, 1, "", "run_ik_and_fk"]], "seqikpy.utils": [[9, 4, 1, "", "calculate_body_size"], [9, 4, 1, "", "compute_length_of_segment"], [9, 4, 1, "", "compute_mean_length_of_segments"], [9, 4, 1, "", "df_to_nparray"], [9, 4, 1, "", "dict_to_nparray_angle"], [9, 4, 1, "", "dict_to_nparray_pose"], [9, 4, 1, "", "dist_calc"], [9, 4, 1, "", "drop_level_dlc"], [9, 4, 1, "", "fix_coxae_pos"], [9, 4, 1, "", "from_anipose_to_array"], [9, 4, 1, "", "get_array"], [9, 4, 1, "", "get_distance_btw_vecs"], [9, 4, 1, "", "get_fps_from_video"], [9, 4, 1, "", "get_leg_length"], [9, 4, 1, "", "get_length_of_segments"], [9, 4, 1, "", "get_mean_length_of_segments"], [9, 4, 1, "", "get_mean_quantile"], [9, 4, 1, "", "get_stim_array"], [9, 4, 1, "", "get_stim_intervals"], [9, 4, 1, "", "interpolate_joint_angles"], [9, 4, 1, "", "interpolate_signal"], [9, 4, 1, "", "leg_length_model"], [9, 4, 1, "", "load_file"], [9, 4, 1, "", "load_stim_data"], [9, 4, 1, "", "save_file"]], "seqikpy.visualization": [[9, 4, 1, "", "animate_3d_points"], [9, 4, 1, "", "fig_to_array"], [9, 4, 1, "", "get_frames_from_video_ffmpeg"], [9, 4, 1, "", "get_plot_config"], [9, 4, 1, "", "get_video_writer"], [9, 4, 1, "", "load_grid_plot_data"], [9, 4, 1, "", "make_video"], [9, 4, 1, "", "plot_3d_points"], [9, 4, 1, "", "plot_grid"], [9, 4, 1, "", "plot_grid_generator"], [9, 4, 1, "", "plot_joint_angle"], [9, 4, 1, "", "plot_trailing_kp"], [9, 4, 1, "", "resize_frame"], [9, 4, 1, "", "resize_rgb_frame"], [9, 4, 1, "", "video_frames_generator"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:property", "4": "py:function", "5": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "function", "Python function"], "5": ["py", "attribute", "Python attribute"]}, "titleterms": {"get": 0, "start": 0, "align": [0, 4, 9, 10, 11], "3d": [0, 4, 10, 11], "pose": [0, 4, 10, 11], "data": [0, 9, 10, 11], "option": 0, "1": 0, "kinemat": [0, 5, 10, 11], "bodi": [0, 10, 11], "model": [0, 10, 11], "2": 0, "size": 0, "experiment": 0, "anim": [0, 10, 11], "calcul": [0, 4, 5], "3": 0, "qualiti": 0, "i": 0, "alreadi": 0, "good": 0, "enough": 0, "need": 0, "sequenti": [0, 5, 10, 11], "invers": [0, 5, 10, 11], "2d": [0, 10, 11], "visual": [0, 9, 10, 11, 12], "joint": [0, 4, 5, 10, 11], "angl": [0, 4, 5, 10, 11], "target": [0, 10, 11], "forward": [0, 10, 11], "instal": 1, "welcom": 2, "seqikpi": [2, 6, 9, 10, 11], "overview": 2, "contribut": 2, "licens": 2, "issu": 2, "cite": 2, "limit": [3, 5], "why": 4, "do": 4, "we": 4, "process": 4, "advantag": 4, "convent": 5, "method": 5, "head": [5, 10], "antenn": 5, "featur": 7, "summari": 7, "directori": 7, "bibliographi": 8, "api": 9, "refer": 9, "submodul": 9, "modul": 9, "head_inverse_kinemat": 9, "import": 9, "note": 9, "kinematic_chain": 9, "kinematic_chain_trochant": 9, "leg_inverse_kinemat": 9, "util": 9, "content": 9, "us": [10, 11], "drosophila": [10, 11], "groom": 10, "defin": [10, 11], "run": [10, 11], "origin": [10, 11], "solid": [10, 11], "f": [10, 11], "k": [10, 11], "dash": [10, 11], "locomot": 11, "tool": 12}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1, "sphinxcontrib.bibtex": 9, "sphinx": 60}, "alltitles": {"Getting started": [[0, "getting-started"]], "Alignment of the 3D pose data": [[0, "alignment-of-the-3d-pose-data"]], "Option 1: align the kinematics to the body model.": [[0, null]], "Option 2: align the kinematics to the body size of the experimental animal": [[0, null]], "Calculate the aligned pose": [[0, "calculate-the-aligned-pose"]], "Option 3: the pose quality is already good enough, no need for the alignment.": [[0, null]], "Sequential Inverse Kinematics": [[0, "sequential-inverse-kinematics"], [10, "sequential-inverse-kinematics"], [11, "sequential-inverse-kinematics"]], "2D visualization of the joint angles": [[0, "d-visualization-of-the-joint-angles"], [10, "d-visualization-of-the-joint-angles"], [11, "d-visualization-of-the-joint-angles"]], "Animation of the target 3D pose and the forward kinematics": [[0, "animation-of-the-target-3d-pose-and-the-forward-kinematics"], [10, "animation-of-the-target-3d-pose-and-the-forward-kinematics"], [11, "animation-of-the-target-3d-pose-and-the-forward-kinematics"]], "Installation": [[1, "installation"]], "Welcome to SeqIKPy!": [[2, "welcome-to-seqikpy"]], "\ud83e\udeb0 Overview": [[2, "overview"]], "\ud83d\udcbb Contributing": [[2, "contributing"]], "\ud83d\udcd6 License": [[2, "license"]], "\ud83d\udc1e Issues": [[2, "issues"]], "\ud83d\udcac Citing": [[2, "citing"]], "Limitations": [[3, "limitations"]], "3D pose alignment": [[4, "d-pose-alignment"]], "Why do we calculate joint angles?": [[4, "why-do-we-calculate-joint-angles"]], "Alignment process": [[4, "alignment-process"]], "Advantages of the alignment process": [[4, "advantages-of-the-alignment-process"]], "Inverse kinematics": [[5, "inverse-kinematics"]], "Limitations of the conventional methods": [[5, "limitations-of-the-conventional-methods"]], "Sequential inverse kinematics": [[5, "sequential-inverse-kinematics"]], "Head and antennal joint angle calculation": [[5, "head-and-antennal-joint-angle-calculation"]], "seqikpy": [[6, "seqikpy"]], "Features": [[7, "features"]], "Summary of directories": [[7, "summary-of-directories"]], "Bibliography": [[8, "bibliography"]], "API Reference": [[9, "api-reference"]], "Submodules": [[9, "submodules"]], "seqikpy.alignment module": [[9, "module-seqikpy.alignment"]], "seqikpy.data module": [[9, "module-seqikpy.data"]], "seqikpy.head_inverse_kinematics module": [[9, "module-seqikpy.head_inverse_kinematics"]], "IMPORTANT NOTES:": [[9, "important-notes"]], "seqikpy.kinematic_chain module": [[9, "module-seqikpy.kinematic_chain"]], "seqikpy.kinematic_chain_trochanter module": [[9, "module-seqikpy.kinematic_chain_trochanter"]], "seqikpy.leg_inverse_kinematics module": [[9, "module-seqikpy.leg_inverse_kinematics"]], "seqikpy.utils module": [[9, "module-seqikpy.utils"]], "seqikpy.visualization module": [[9, "module-seqikpy.visualization"]], "Module contents": [[9, "module-seqikpy"]], "Using SeqIKPy for Drosophila grooming": [[10, "using-seqikpy-for-drosophila-grooming"]], "Defining the body model": [[10, "defining-the-body-model"], [11, "defining-the-body-model"]], "Aligning the 3D pose data": [[10, "aligning-the-3d-pose-data"], [11, "aligning-the-3d-pose-data"]], "Head inverse kinematics": [[10, "head-inverse-kinematics"]], "Run sequential inverse kinematics": [[10, "run-sequential-inverse-kinematics"], [11, "run-sequential-inverse-kinematics"]], "Original 3D pose (solid) F.K. (dashed)": [[10, "original-3d-pose-solid-f-k-dashed"], [11, "original-3d-pose-solid-f-k-dashed"]], "Using SeqIKPy for Drosophila locomotion": [[11, "using-seqikpy-for-drosophila-locomotion"]], "Visualization tools": [[12, "visualization-tools"]]}, "indexentries": {"alignpose (class in seqikpy.alignment)": [[9, "seqikpy.alignment.AlignPose"]], "axestuple (class in seqikpy.head_inverse_kinematics)": [[9, "seqikpy.head_inverse_kinematics.AxesTuple"]], "axestuple (class in seqikpy.kinematic_chain)": [[9, "seqikpy.kinematic_chain.AxesTuple"]], "headinversekinematics (class in seqikpy.head_inverse_kinematics)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics"]], "kinematicchain (class in seqikpy.kinematic_chain_trochanter)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain"]], "kinematicchainbase (class in seqikpy.kinematic_chain)": [[9, "seqikpy.kinematic_chain.KinematicChainBase"]], "kinematicchaingeneric (class in seqikpy.kinematic_chain)": [[9, "seqikpy.kinematic_chain.KinematicChainGeneric"]], "kinematicchainseq (class in seqikpy.kinematic_chain)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq"]], "leginvkinbase (class in seqikpy.leg_inverse_kinematics)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase"]], "leginvkingeneric (class in seqikpy.leg_inverse_kinematics)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinGeneric"]], "leginvkinseq (class in seqikpy.leg_inverse_kinematics)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinSeq"]], "x_axis (axestuple attribute)": [[9, "seqikpy.head_inverse_kinematics.AxesTuple.X_AXIS"], [9, "seqikpy.kinematic_chain.AxesTuple.X_AXIS"]], "y_axis (axestuple attribute)": [[9, "seqikpy.head_inverse_kinematics.AxesTuple.Y_AXIS"], [9, "seqikpy.kinematic_chain.AxesTuple.Y_AXIS"]], "z_axis (axestuple attribute)": [[9, "seqikpy.head_inverse_kinematics.AxesTuple.Z_AXIS"], [9, "seqikpy.kinematic_chain.AxesTuple.Z_AXIS"]], "align_head() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.align_head"]], "align_leg() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.align_leg"]], "align_pose() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.align_pose"]], "angle_between_segments() (headinversekinematics static method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.angle_between_segments"]], "animate_3d_points() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.animate_3d_points"]], "calculate_body_size() (in module seqikpy.utils)": [[9, "seqikpy.utils.calculate_body_size"]], "calculate_fk() (leginvkinbase method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_fk"]], "calculate_ik() (leginvkinbase method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik"]], "calculate_ik_stage() (leginvkinbase method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase.calculate_ik_stage"]], "calculate_ik_stage() (leginvkingeneric method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinGeneric.calculate_ik_stage"]], "calculate_ik_stage() (leginvkinseq method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinSeq.calculate_ik_stage"]], "compute_antenna_pitch() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_pitch"]], "compute_antenna_yaw() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_antenna_yaw"]], "compute_head_angles() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_angles"]], "compute_head_pitch() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_pitch"]], "compute_head_roll() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_roll"]], "compute_head_yaw() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.compute_head_yaw"]], "compute_length_of_segment() (in module seqikpy.utils)": [[9, "seqikpy.utils.compute_length_of_segment"]], "compute_mean_length_of_segments() (in module seqikpy.utils)": [[9, "seqikpy.utils.compute_mean_length_of_segments"]], "convert_from_anipose_to_dict() (in module seqikpy.alignment)": [[9, "seqikpy.alignment.convert_from_anipose_to_dict"]], "convert_from_df3d_to_dict() (in module seqikpy.alignment)": [[9, "seqikpy.alignment.convert_from_df3d_to_dict"]], "convert_from_df3dpp_to_dict() (in module seqikpy.alignment)": [[9, "seqikpy.alignment.convert_from_df3dpp_to_dict"]], "create_leg_chain() (kinematicchain method)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain"]], "create_leg_chain() (kinematicchainbase method)": [[9, "seqikpy.kinematic_chain.KinematicChainBase.create_leg_chain"]], "create_leg_chain() (kinematicchaingeneric method)": [[9, "seqikpy.kinematic_chain.KinematicChainGeneric.create_leg_chain"]], "create_leg_chain() (kinematicchainseq method)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain"]], "create_leg_chain_stage_1() (kinematicchain method)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_1"]], "create_leg_chain_stage_1() (kinematicchainseq method)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_1"]], "create_leg_chain_stage_2() (kinematicchain method)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_2"]], "create_leg_chain_stage_2() (kinematicchainseq method)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_2"]], "create_leg_chain_stage_3() (kinematicchain method)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_3"]], "create_leg_chain_stage_3() (kinematicchainseq method)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_3"]], "create_leg_chain_stage_4() (kinematicchain method)": [[9, "seqikpy.kinematic_chain_trochanter.KinematicChain.create_leg_chain_stage_4"]], "create_leg_chain_stage_4() (kinematicchainseq method)": [[9, "seqikpy.kinematic_chain.KinematicChainSeq.create_leg_chain_stage_4"]], "derotate_vector() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.derotate_vector"]], "df_to_nparray() (in module seqikpy.utils)": [[9, "seqikpy.utils.df_to_nparray"]], "dict_to_nparray_angle() (in module seqikpy.utils)": [[9, "seqikpy.utils.dict_to_nparray_angle"]], "dict_to_nparray_pose() (in module seqikpy.utils)": [[9, "seqikpy.utils.dict_to_nparray_pose"]], "dist_calc() (in module seqikpy.utils)": [[9, "seqikpy.utils.dist_calc"]], "drop_level_dlc() (in module seqikpy.utils)": [[9, "seqikpy.utils.drop_level_dlc"]], "fig_to_array() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.fig_to_array"]], "find_scale_leg() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.find_scale_leg"]], "find_stationary_indices() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.find_stationary_indices"]], "fix_coxae_pos() (in module seqikpy.utils)": [[9, "seqikpy.utils.fix_coxae_pos"]], "from_anipose_to_array() (in module seqikpy.utils)": [[9, "seqikpy.utils.from_anipose_to_array"]], "from_file_path() (alignpose class method)": [[9, "seqikpy.alignment.AlignPose.from_file_path"]], "get_ant_vector() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_ant_vector"]], "get_array() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_array"]], "get_distance_btw_vecs() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_distance_btw_vecs"]], "get_fixed_pos() (alignpose static method)": [[9, "seqikpy.alignment.AlignPose.get_fixed_pos"]], "get_fps_from_video() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_fps_from_video"]], "get_frames_from_video_ffmpeg() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.get_frames_from_video_ffmpeg"]], "get_head_vector() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector"]], "get_head_vector_horizontal() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_horizontal"]], "get_head_vector_mid() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_head_vector_mid"]], "get_leg_length() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_leg_length"]], "get_length_of_segments() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_length_of_segments"]], "get_mean_length() (alignpose method)": [[9, "seqikpy.alignment.AlignPose.get_mean_length"]], "get_mean_length_of_segments() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_mean_length_of_segments"]], "get_mean_quantile() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_mean_quantile"]], "get_plane() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_plane"]], "get_plot_config() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.get_plot_config"]], "get_pts2align() (in module seqikpy.data)": [[9, "seqikpy.data.get_pts2align"]], "get_rest_antenna_pitch() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_antenna_pitch"]], "get_rest_head_pitch() (headinversekinematics method)": [[9, "seqikpy.head_inverse_kinematics.HeadInverseKinematics.get_rest_head_pitch"]], "get_scale_factor() (leginvkinbase method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase.get_scale_factor"]], "get_stim_array() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_stim_array"]], "get_stim_intervals() (in module seqikpy.utils)": [[9, "seqikpy.utils.get_stim_intervals"]], "get_video_writer() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.get_video_writer"]], "interpolate_joint_angles() (in module seqikpy.utils)": [[9, "seqikpy.utils.interpolate_joint_angles"]], "interpolate_signal() (in module seqikpy.utils)": [[9, "seqikpy.utils.interpolate_signal"]], "leg_length_model() (in module seqikpy.utils)": [[9, "seqikpy.utils.leg_length_model"]], "load_file() (in module seqikpy.utils)": [[9, "seqikpy.utils.load_file"]], "load_grid_plot_data() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.load_grid_plot_data"]], "load_stim_data() (in module seqikpy.utils)": [[9, "seqikpy.utils.load_stim_data"]], "make_video() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.make_video"]], "module": [[9, "module-seqikpy"], [9, "module-seqikpy.alignment"], [9, "module-seqikpy.data"], [9, "module-seqikpy.head_inverse_kinematics"], [9, "module-seqikpy.kinematic_chain"], [9, "module-seqikpy.kinematic_chain_trochanter"], [9, "module-seqikpy.leg_inverse_kinematics"], [9, "module-seqikpy.utils"], [9, "module-seqikpy.visualization"]], "plot_3d_points() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.plot_3d_points"]], "plot_grid() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.plot_grid"]], "plot_grid_generator() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.plot_grid_generator"]], "plot_joint_angle() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.plot_joint_angle"]], "plot_trailing_kp() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.plot_trailing_kp"]], "resize_frame() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.resize_frame"]], "resize_rgb_frame() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.resize_rgb_frame"]], "run_ik_and_fk() (leginvkinbase method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinBase.run_ik_and_fk"]], "run_ik_and_fk() (leginvkingeneric method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinGeneric.run_ik_and_fk"]], "run_ik_and_fk() (leginvkinseq method)": [[9, "seqikpy.leg_inverse_kinematics.LegInvKinSeq.run_ik_and_fk"]], "save_file() (in module seqikpy.utils)": [[9, "seqikpy.utils.save_file"]], "seqikpy": [[9, "module-seqikpy"]], "seqikpy.alignment": [[9, "module-seqikpy.alignment"]], "seqikpy.data": [[9, "module-seqikpy.data"]], "seqikpy.head_inverse_kinematics": [[9, "module-seqikpy.head_inverse_kinematics"]], "seqikpy.kinematic_chain": [[9, "module-seqikpy.kinematic_chain"]], "seqikpy.kinematic_chain_trochanter": [[9, "module-seqikpy.kinematic_chain_trochanter"]], "seqikpy.leg_inverse_kinematics": [[9, "module-seqikpy.leg_inverse_kinematics"]], "seqikpy.utils": [[9, "module-seqikpy.utils"]], "seqikpy.visualization": [[9, "module-seqikpy.visualization"]], "thorax_mid_pts (alignpose property)": [[9, "seqikpy.alignment.AlignPose.thorax_mid_pts"]], "video_frames_generator() (in module seqikpy.visualization)": [[9, "seqikpy.visualization.video_frames_generator"]]}})